<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="基础编程知识学习," />





  <link rel="alternate" href="/atom.xml" title="lzhello's blog" type="application/atom+xml" />






<meta name="description" content="前端面试中的重要考点 HTML与CSS 原型，作用域，异步 DOM事件与Ajax 性能优化 手写代码 HTTP协议">
<meta property="og:type" content="article">
<meta property="og:title" content="前端面试 知识学习">
<meta property="og:url" content="https://github.com/lzhello/lzhello.github.io.git/2021/02/25/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%20%E7%9F%A5%E8%AF%86%E5%AD%A6%E4%B9%A0/index.html">
<meta property="og:site_name" content="lzhello&#39;s blog">
<meta property="og:description" content="前端面试中的重要考点 HTML与CSS 原型，作用域，异步 DOM事件与Ajax 性能优化 手写代码 HTTP协议">
<meta property="og:locale">
<meta property="og:image" content="https://res.cloudinary.com/drx6hbrzu/image/upload/v1619451038/1619451006_1_a3fjal.png">
<meta property="og:image" content="https://res.cloudinary.com/drx6hbrzu/image/upload/v1621428918/3_7U_JSVSRC_PCHKI9E_GW1_pmj1ub.png">
<meta property="og:image" content="https://res.cloudinary.com/drx6hbrzu/image/upload/v1621781359/VX_OV51JHY7_C_0YH37CBSO_fdecs5.png">
<meta property="article:published_time" content="2021-02-25T13:20:19.000Z">
<meta property="article:modified_time" content="2021-06-08T17:54:03.299Z">
<meta property="article:author" content="lzhello">
<meta property="article:tag" content="基础编程知识学习">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://res.cloudinary.com/drx6hbrzu/image/upload/v1619451038/1619451006_1_a3fjal.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://github.com/lzhello/lzhello.github.io.git/2021/02/25/前端面试 知识学习/"/>





  <title>前端面试 知识学习 | lzhello's blog</title>
  








<meta name="generator" content="Hexo 5.2.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner">
<div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">lzhello's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">我的头发不是烫坏了只是天生自然卷</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-guestbook">
          <a href="/guestbook" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            留言
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/lzhello/lzhello.github.io.git/2021/02/25/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%20%E7%9F%A5%E8%AF%86%E5%AD%A6%E4%B9%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="lzhello's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">前端面试 知识学习</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-02-25T21:20:19+08:00">
                2021-02-25
              </time>
            


            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2021/02/25/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%20%E7%9F%A5%E8%AF%86%E5%AD%A6%E4%B9%A0/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2021/02/25/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%20%E7%9F%A5%E8%AF%86%E5%AD%A6%E4%B9%A0/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o"></i>
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
            </span>
          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  18.4k
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="前端面试中的重要考点"><a href="#前端面试中的重要考点" class="headerlink" title="前端面试中的重要考点"></a>前端面试中的重要考点</h2><ul>
<li>HTML与CSS</li>
<li>原型，作用域，异步</li>
<li>DOM事件与Ajax</li>
<li>性能优化</li>
<li>手写代码</li>
<li>HTTP协议</li>
</ul>
<a id="more"></a>

<p>CSS：布局，定位，移动端响应式</p>
<p>ES语法：原型&amp;原型链，作用域&amp;闭包，异步&amp;单线程</p>
<p>Web API： DOM&amp;BOM， Ajax跨域，事件存储</p>
<p>开发环境：版本管理，调试抓包，打包建构</p>
<p>运行环境：页面渲染，性能优化，Web安全</p>
<p>网络通讯： headers，Restful API， 缓存策略</p>
<h2 id="面试题体验"><a href="#面试题体验" class="headerlink" title="面试题体验"></a>面试题体验</h2><ul>
<li>typeof能判断的类型？【考点：JS变量类型】</li>
<li>何时使用===何时使用==？【考点：强制类型转换】</li>
<li>window.onload和DOMContentLoaded区别？【页面加载过程】</li>
<li>JS创建10个&lt;a&gt;标签，点击弹出对应序号 【JS作用域】</li>
<li>手写节流throttle和防抖debounce【性能体验优化】</li>
<li>Promise解决什么问题？【JS异步】</li>
</ul>
<h2 id="面试准备"><a href="#面试准备" class="headerlink" title="面试准备"></a>面试准备</h2><p>JD分析+简历准备</p>
<p><a target="_blank" rel="noopener" href="http://www.imooc.com/article/300475">面试中应避免的几种情况</a></p>
<hr>
<h1 id="HTML-CSS"><a href="#HTML-CSS" class="headerlink" title="HTML+CSS"></a>HTML+CSS</h1><h2 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h2><ol>
<li>如何理解HTML语义化（根据具体内容，选择合适的标签进行代码的编写，少用div和span）<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/6bc1fc059b51">如何理解HTML结构的语义化？</a></li>
</ol>
<ul>
<li>让人更容易读懂（增加代码可读性）</li>
<li>让搜索引擎更容易读懂（SEO）</li>
</ul>
<ol start="2">
<li><p>SEO</p>
<p>前端需要注意哪些SEO</p>
<ul>
<li>合理的title、description、keywords：搜索对这三项的权重逐个减小；<ul>
<li>title值强调重点即可，重要关键词出现不要超过2次，而且要靠前，不同页面title要有所不同；</li>
<li>description把页面内容高度概括，长度合适，不可过分堆砌关键词，不同页面description有所不同；</li>
<li>keywords列举出重要关键词即可</li>
</ul>
</li>
<li>语义化的HTML代码，符合W3C规范：语义化代码让搜索引擎容易理解网页</li>
<li>重要内容HTML代码放在最前：搜索引擎抓取HTML顺序是从上到下，有的搜索引擎对抓取长度有限制，保证重要内容一定会被抓取</li>
<li>重要内容不要用js输出：爬虫不会执行js获取内容</li>
<li>少用iframe：搜索引擎不会抓取iframe中的内容</li>
<li>非装饰性图片必须加alt</li>
<li>提高网站速度：网站速度是搜索引擎排序的一个重要指标</li>
</ul>
<p>如何做SEO优化?</p>
<ul>
<li><strong>标题与关键词</strong><ul>
<li>设置有吸引力切合实际的标题，标题中要包含所做的关键词</li>
</ul>
</li>
<li><strong>网站结构目录</strong><ul>
<li>最好不要超过三级，每级有“面包屑导航”，使网站成树状结构分布</li>
</ul>
</li>
<li><strong>页面元素</strong><ul>
<li>给图片标注”Alt”可以让搜索引擎更友好的收录</li>
</ul>
</li>
<li><strong>网站内容</strong><ul>
<li>每个月每天有规律的更新网站的内容，会使搜索引擎更加喜欢</li>
</ul>
</li>
<li><strong>友情链接</strong><ul>
<li>对方一定要是正规网站，每天有专业的团队或者个人维护更新</li>
</ul>
</li>
<li><strong>内链的布置</strong><ul>
<li>使网站形成类似蜘蛛网的结构，不会出现单独连接的页面或链接</li>
</ul>
</li>
<li><strong>流量分析</strong><ul>
<li>通过统计工具(百度统计，CNZZ)分析流量来源，指导下一步的SEO</li>
</ul>
</li>
</ul>
</li>
<li><p>默认情况下，哪些HTML标签是块级元素，哪些是内联元素/行内元素</p>
</li>
</ol>
<ul>
<li><p>display:block/table    div, h1,h2, table, ul, ol, p    独占一行</p>
</li>
<li><p>display:inline/inline-block     span, img, input, button, em</p>
</li>
</ul>
<ul>
<li><p>block、inline、inline-block 的区别</p>
</li>
<li><p>block 块元素独占一行，宽度自动填充为父元素宽度。元素的高度、宽度、行高以及顶和底边距都可设置。即使设置了宽度,仍然是独占一行。例如，<code>div, p</code></p>
</li>
<li><p>inline 元素，多个该元素排列在一行，直到超出，才会换新一行，其宽度随元素内容而变化。width,height 属性无效，垂直方向的 padding 和 margin 会失效。例如，<code>a, span</code></p>
</li>
<li><p>inline-block：既具有 block 的宽度高度特性又具有 inline 的同行特性。例如，<code>img,input</code></p>
</li>
</ul>
<h2 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h2><p>CSS：布局，定位，图文样式，响应式，CSS3</p>
<h3 id="布局"><a href="#布局" class="headerlink" title="布局"></a>布局</h3><ol>
<li><p>盒子模型的宽度如何计算？</p>
<p>offsetWidth=content+padding+border（没有margin）</p>
<p>如果要指定offsetWidth的大小：box-sizing = border-box;（width不再是content宽度，而是整个box宽度，规定容器元素的最终尺寸计算方式，默认值是content-box</p>
</li>
<li><p>margin纵向重叠问题</p>
<p>相邻元素的margin-top和margin-bottom会发生重叠，空白内容的p标签也会重叠</p>
</li>
<li><p>margin负值的问题</p>
<p>对margin的top，left，right，bottom设置负值会发生什么</p>
<p>margin-top和margin-left设置负值，元素会向上/向左移动</p>
<p>margin-right负值，右侧元素左移，自身不受影响</p>
<p>margin-bottom负值，下方元素上移，自身不受影响</p>
</li>
<li><p><strong>BFC</strong>的理解与应用</p>
<p>什么是BFC？怎么应用？</p>
<p>block format context，块级格式化上下文</p>
<p>独立渲染区域，内部元素的渲染不会影响到边界以外的元素</p>
<p>形成BFC的条件：</p>
<ul>
<li>float不是none；</li>
<li>position是absolute或者fixed；</li>
<li>overflow不是visible；</li>
<li>display是flex inline-block等</li>
</ul>
<p>BFC的常见应用：清除浮动，</p>
</li>
<li><p>float布局的问题，<strong>clearfix</strong></p>
<p>如何实现圣杯布局和双飞翼布局</p>
<p>目的：三栏布局，中间一栏最先加载和渲染（内容最重要）；两侧内容固定，中间内容随着宽度自适应；一般用于PC网页</p>
<p>技术总结：使用float布局；两侧使用margin负值，以便和中间的内容横向重叠；防止中间内容被两侧覆盖，一个用padding（圣杯）一个用margin（双飞翼）；</p>
<p>手写clearfix</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.clearfix</span><span class="selector-pseudo">:after</span>&#123;</span><br><span class="line">    <span class="attribute">content</span>:<span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="attribute">display</span>:table;</span><br><span class="line">    <span class="attribute">clear</span>:both;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.clearfix</span>&#123;</span><br><span class="line">    *zoom:1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>flex</strong>          <a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html">参考</a></p>
<p>Flex 是弹性布局，用来为盒状模型提供最大的灵活性，传统布局方式依赖 position、float 和 display 属性，对特殊布局不方便。</p>
<p>采用 Flex 布局的元素，称为 Flex 容器（flex container），简称”容器”。它的所有子元素自动成为容器成员，称为 Flex 项目（flex item），简称”项目”。</p>
<p>通过flex实现三点骰子</p>
<p>常见语法：</p>
<p>【容器的属性】</p>
<ul>
<li>flex-direction（主轴方向）: row | row-reverse | column | column-reverse;</li>
<li>flex-wrap（如果一条轴线排不下，如何换行）：nowrap | wrap | wrap-reverse;</li>
<li>flex-flow（flex-direction属性和flex-wrap属性的简写形式，默认值为row nowrap）：flex-direction || flex-wrap;</li>
<li>justify-content（项目在主轴上的对齐方式）：flex-start | flex-end | center | space-between | space-around;</li>
<li>align-items（项目在交叉轴上如何对齐）：flex-start | flex-end | center | baseline | stretch;</li>
<li>align-content（定义了多根轴线的对齐方式。如果项目只有一根轴线，该属性不起作用）：flex-start | flex-end | center | space-between | space-around | stretch;</li>
</ul>
<p>【项目的属性】</p>
<ul>
<li>order（项目的排列顺序。数值越小，排列越靠前，默认为0）</li>
<li>flex-grow（定义项目的放大比例，默认为0）</li>
<li>flex-shrink（项目的缩小比例，默认为1）</li>
<li>flex-basis（在分配多余空间之前，项目占据的主轴空间）</li>
<li>flex（是<code>flex-grow</code>, <code>flex-shrink</code> 和 <code>flex-basis</code>的简写）</li>
<li>align-self（允许单个项目有与其他项目不一样的对齐方式，可覆盖<code>align-items</code>属性）默认auto，继承父元素</li>
</ul>
<p>常见：</p>
<p>flex-direction:主轴的方向，可横向可纵向</p>
<p>justify-content: 主轴对齐方式</p>
<p>align-items: 交叉轴对齐方式</p>
<p>flex-wrap: 是否换行 </p>
<p>align-self: 子元素对齐方式</p>
<p>题目： flex=1代表什么？</p>
<p>flex:1   =&gt;   flex-grow的值=1</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attribute">flex-grow</span>:<span class="number">1</span>;<span class="comment">/*用于设置或检索弹性盒子的扩展比率*/</span></span><br><span class="line">    <span class="attribute">flex-shrink</span>:<span class="number">1</span>;</span><br><span class="line">    <span class="attribute">flex-basis</span>:<span class="number">0%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>第一个参数表示: flex-grow 定义项目的放大比例，默认为0，即如果存在剩余空间，也不放大</li>
<li>第二个参数表示: flex-shrink 定义了项目的缩小比例，默认为1，即如果空间不足，该项目将缩小</li>
<li>第三个参数表示: flex-basis给上面两个属性分配多余空间之前, 计算项目是否有多余空间, 默认值为 auto, 即项目本身的大小</li>
</ul>
</li>
<li><p>元素消失</p>
<p>visibility=hidden, opacity=0，display:none</p>
<ul>
<li>opacity=0，元素隐藏，不改变页面布局，可触发绑定事件</li>
<li>visibility=hidden，元素隐藏，不改变页面布局，不会触发绑定事件</li>
<li>display=none，元素隐藏，改变页面布局，可以理解成在页面中把该元素删除掉一样。</li>
</ul>
</li>
<li><p>position属性</p>
<ul>
<li>fixed：相对浏览器窗口固定，即使窗口滚动它也不懂，不在文档流中，fixed 元素可与其余元素重叠</li>
<li>relative：相对于自身原本位置偏移，元素在文档流中仍占据原来的空间</li>
<li>absolute：相对于最近的父元素定位，不在文档流中</li>
<li>static：默认值，没有定位，出现在正常的文档流中，忽略任何 top,buttom,left,right 声明</li>
<li>sticky：元素先按照普通文档流定位，然后相对于该元素在流中的 flow root（BFC）和 containing block（最近的块级祖先元素）定位。一个 sticky 元素会“固定”在离它最近的一个拥有“滚动机制”的祖先上。</li>
</ul>
</li>
</ol>
<h3 id="定位"><a href="#定位" class="headerlink" title="定位"></a>定位</h3><ul>
<li><p>absolute和relative分别依据什么定位？</p>
<p>relative依据自身定位；absolute依据最近一层的定位元素定位</p>
<p>定位元素：absolute，relative，fixed，inherit</p>
</li>
<li><p>居中对齐有哪些实现方式？</p>
<p>水平居中</p>
<ol>
<li>inline元素：text-align: center </li>
<li>block元素：margin: auto</li>
<li>absolute元素：left:50% + margin-left负值（left50%让元素左边界在父元素正中间，50%是父元素宽度的50%，然后再用margin-left左移半个自身 </li>
</ol>
<p>垂直居中</p>
<ol>
<li>inline元素：line-height的值=height值</li>
<li>absolute元素： top:50% + margin-top负值（必须知道子元素的高</li>
<li>absolute元素： transform(-50%,-50%)（不需要子元素尺寸，CSS3，所以浏览器可能有不支持</li>
<li>absolute元素： top,left,bottom,right =0 +margin: auto（不需要子元素尺寸</li>
</ol>
</li>
</ul>
<h3 id="图文样式"><a href="#图文样式" class="headerlink" title="图文样式"></a>图文样式</h3><ul>
<li><p>line-height的继承问题</p>
<p>如果父元素里的line-height是具体的数值（30px），则继承该值；如果父元素里写的是比例（2/1.5），则继承该比例；如果写的是百分比，（200%，150%），则继承计算出来的值</p>
</li>
<li><p>文字溢出时，实现在末尾显示三个点省略效果 <a target="_blank" rel="noopener" href="https://blog.csdn.net/chuluxie3918/article/details/100819339">参考</a></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">     <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">     <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">     <span class="attribute">overflow</span>: hidden;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>第 2 行表示强制在一行显示，如果不强制在一行显示，超出容器宽度的内容换行显示，父容器直接被撑高，就没有溢出了；</p>
<p>第 3 行表示在溢出时显示省略标记，也就是图中红线圈出来的三个点，这个就没啥好说的了；</p>
<p>第 4 行表示溢出部分内容隐藏，不溢出隐藏的话…. 第 3 行的溢出设置还有啥用，我都直接显示到父容器外面了啊喂！</p>
</li>
</ul>
<h3 id="响应式"><a href="#响应式" class="headerlink" title="响应式"></a>响应式</h3><ul>
<li><p>rem是什么？</p>
<p>rem是一个长度单位</p>
<p>​    长度单位：px，绝对长度单位，最常用；em，相对长度单位，相对于父元素，不常用；rem，相对长度单位，相对于根元素，常用于响应式布局</p>
</li>
<li><p>如何实现响应式？</p>
<p>media-query，根据不同的屏幕宽度来设置根元素font-size</p>
<p>rem，基于根元素的相对单位</p>
</li>
<li><p>rem弊端：</p>
<p>阶梯性，不够具体</p>
</li>
<li><p>网页视口尺寸  </p>
<p>window.screen.height  屏幕高度（与设备手机有关</p>
<p>window.innerHeight 网页视口高度（与浏览器有关（===100vh</p>
<p>document.body.clientHeight body高度（与内容有关</p>
</li>
<li><p>vw/vh</p>
<p>网页视口高度的1/100</p>
<p>网页视口宽度的1/100</p>
<p>vmax取两者最大值；vmin取两者最小值</p>
</li>
</ul>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><ul>
<li><p>HTML5和CSS3有什么<strong>新特性</strong> <a target="_blank" rel="noopener" href="https://www.cnblogs.com/star91/p/5659134.html">参考</a></p>
<p>HTML5：aside（侧边栏），footer（section/document页脚），header（文档头部区域），nav（导航链接），audio，video</p>
<p>表单元素</p>
<p> Web Storage DOM API 为Web应用提供了一个能够替代cookie的Javascript解决方案</p>
<ul>
<li>sessionStorage—客户端数据存储，只能维持在当前会话范围内。</li>
</ul>
<p>​       sessionStorage 方法针对一个 session 进行数据存储。当用户关闭浏览器窗口后，数据会被删除。</p>
<ul>
<li>localStorage—客户端数据存储，能维持在多个会话范围内。</li>
</ul>
<p>​       localStorage 对象存储的数据没有时间限制。第二天、第二周或下一年之后，数据依然可用。</p>
<p>CSS3：选择器，边框（borders-image,radius,shadow)，文本效果（text-wrap,text-overflow…），转换变形（transform）</p>
</li>
<li><p><strong>CSS函数</strong></p>
<ul>
<li><p><code>calc()</code> 动态计算长度值</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#div</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>:<span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">width</span>:<span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">100px</span>);<span class="comment">/*运算符前后都需要保留一个空格*/</span></span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid black;</span><br><span class="line">    <span class="attribute">background-color</span>: yellow;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*一个横跨屏幕的div，div两边有50px的缝隙*/</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>rgb()</code>和<code>rgba()</code> 三个颜色叠加来生成各种各样的颜色（RGB红绿蓝 0-255，A透明度 0-1）</p>
</li>
<li><p><code>var()</code>用于插入自定义的属性值         <a target="_blank" rel="noopener" href="https://www.w3school.com.cn/css/css3_variables.asp">CSS变量与var()的工作</a></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">  <span class="attribute">--main-bg-color</span>: coral;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">		定义一个名为 &quot;--main-bg-color&quot; 的属性，然后使用 var() 函数调用该属性</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*:root选择器用匹配文档的根元素。在HTML中根元素始终是HTML元素。*/</span></span><br><span class="line"> </span><br><span class="line"><span class="selector-id">#div1</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--main-bg-color);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="selector-id">#div2</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--main-bg-color);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><strong>CSS变量</strong>（自定义变量–*）</p>
<p>带有前缀–的属性名，表示带有值的自定义属性，可以通过<code>var()</code>函数在全文档范围内使用</p>
</li>
<li><p><strong>transition</strong></p>
<p>transition 属性是一个简写属性，用于设置四个过渡属性：</p>
<ul>
<li>transition-property</li>
<li>transition-duration</li>
<li>transition-timing-function</li>
<li>transition-delay</li>
</ul>
</li>
</ul>
<h1 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h1><h2 id="ES6"><a href="#ES6" class="headerlink" title="ES6"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_45495667/article/details/106967467?utm_medium=distribute.pc_relevant_t0.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-1.control&depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-1.control">ES6</a></h2><h3 id="es6Map实现原理及实现自己的Map方法"><a href="#es6Map实现原理及实现自己的Map方法" class="headerlink" title="es6Map实现原理及实现自己的Map方法"></a>es6Map实现原理及实现自己的Map方法</h3><p>Map        </p>
<ol>
<li>不重复        </li>
<li>字符串 对象 NaN null [] function(){} 10       </li>
<li>set get delete has clear方法 </li>
</ol>
<h3 id="Set-WeakSet-Map-WeakMap"><a href="#Set-WeakSet-Map-WeakMap" class="headerlink" title="Set WeakSet Map WeakMap"></a><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/81234278">Set WeakSet Map WeakMap</a></h3><p>Set：</p>
<ul>
<li>成员唯一、无序且不重复。</li>
<li>[value, value]，键值与键名是一致的（或者说只有键值，没有键名）。</li>
<li>可以遍历，方法有：add、delete、has。</li>
</ul>
<p>WeakSet：</p>
<ul>
<li>成员都是对象。</li>
<li>成员都是弱引用，可以被垃圾回收机制回收，可以用来保存DOM节点，不容易造成内存泄漏。</li>
<li>不能遍历，方法有add、delete、has。</li>
</ul>
<p>Map：</p>
<ul>
<li>本质上是键值对的集合，类似集合。</li>
<li>可以遍历，方法很多可以跟各种数据格式转换。</li>
</ul>
<p>WeakMap：</p>
<ul>
<li>只接受对象作为键名（null除外），不接受其他类型的值作为键名。</li>
<li>键名是弱引用，键值可以是任意的，键名所指向的对象可以被垃圾回收，此时键名是无效的。</li>
<li>不能遍历，方法有get、set、has、delete</li>
</ul>
<h3 id="数组新方法"><a href="#数组新方法" class="headerlink" title="数组新方法"></a>数组新方法</h3><p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000019131088">ES6数组新方法</a></p>
<ol>
<li><p>数组创建方法：</p>
<ol>
<li><p>Array.from() 快速把一个类似数组的对象创建为一个新的数组实例（通俗的讲，只要一个对象有length，Array.from就能把它变成一个数组，返回新的数组，而不改变原对象。）（DOM操作返回的NodeList集合，函数内部的arguments对象，String，Set，Map等）</p>
<p>还能生成0-指定数字的新数组（Array.from 接收的第二个参数，作用类似于数组的map方法，用来对每个元素进行处理，处理后的值放入返回的数组）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>:<span class="number">10</span>&#125;,<span class="function">(<span class="params">v,i</span>)=&gt;</span>i); <span class="comment">// [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arrayLike = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>];</span><br><span class="line"><span class="built_in">Array</span>.from(arrayLike, <span class="function"><span class="params">x</span> =&gt;</span> x+<span class="number">1</span>);        <span class="comment">// [2, 4, 6]</span></span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="built_in">Array</span>.from(arrayLike).map(<span class="function"><span class="params">x</span> =&gt;</span> x+<span class="number">1</span>);    <span class="comment">// [2, 4, 6]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Array.of()</p>
<p>当参数个数大于1时，Array() 才会返回由参数组成的新数组。当参数个数只有一个时，实际上是指定数组的长度。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>() <span class="comment">// []</span></span><br><span class="line"><span class="built_in">Array</span>(<span class="number">3</span>) <span class="comment">// [, , ,]</span></span><br><span class="line"><span class="built_in">Array</span>(<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>) <span class="comment">// [3, 4, 5]</span></span><br></pre></td></tr></table></figure>

<p>然而 Array.of 弥补了数组构造函数 Array() 的不足，Array.of 将参数依次转化为数组中的一项，然后返回这个新数组，而不管这个参数是数字还是其它，它的行为非常统一。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.of() <span class="comment">// []</span></span><br><span class="line"><span class="built_in">Array</span>.of(<span class="literal">undefined</span>) <span class="comment">// [undefined]</span></span><br><span class="line"><span class="built_in">Array</span>.of(<span class="number">3</span>) <span class="comment">// [3]</span></span><br><span class="line"><span class="built_in">Array</span>.of(<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>) <span class="comment">// [3, 4, 5]</span></span><br></pre></td></tr></table></figure>

<p>Array.of 总是返回参数值组成的数组。如果没有参数，就返回一个空数组。</p>
</li>
</ol>
</li>
<li><p>数组修改方法</p>
<ol>
<li><p>fill(使用给定值，填充一个数组)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>].fill(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line"><span class="comment">// [&quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">3</span>).fill(<span class="number">12</span>)</span><br><span class="line"><span class="comment">// [12, 12, 12]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//第二个和第三个参数，表示开始位置和结束位置</span></span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>].fill(<span class="string">&#x27;a&#x27;</span>,<span class="number">2</span>,<span class="number">4</span>);</span><br><span class="line"><span class="comment">// [1, 2, &quot;a&quot;, &quot;a&quot;, 5]</span></span><br></pre></td></tr></table></figure>

<p>如果填充的类型为对象，那么被赋值的是同一个内存地址的对象，而不是深拷贝对象。</p>
</li>
</ol>
</li>
<li><p>数组查找遍历方法</p>
<ol>
<li><p>find 和 findIndex</p>
<p>find 返回数组中第一个满足条件的元素（如果有的话）， 如果没有，则返回undefined。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">4</span>, -<span class="number">5</span>, <span class="number">10</span>].find(<span class="function">(<span class="params">n</span>) =&gt;</span> n &lt; <span class="number">0</span>)</span><br><span class="line"><span class="comment">// -5</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">4</span>, -<span class="number">5</span>, <span class="number">10</span>].find(<span class="function">(<span class="params">n</span>) =&gt;</span> n &lt; -<span class="number">10</span>)</span><br><span class="line"><span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//find方法的回调函数可以接受三个参数，依次为当前的值、当前的位置和原数组。</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">15</span>].find(<span class="function"><span class="keyword">function</span>(<span class="params">value, index, arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> value &gt; <span class="number">9</span>;</span><br><span class="line">&#125;) </span><br><span class="line"><span class="comment">// 10</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">15</span>].find(<span class="function"><span class="keyword">function</span>(<span class="params">value, index, arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">console</span>.log(value, index, arr)</span><br><span class="line">&#125;) </span><br><span class="line"> <span class="comment">//1      0    [1, 5, 10, 15]</span></span><br><span class="line"> <span class="comment">//5      1   [1, 5, 10, 15]</span></span><br><span class="line"> <span class="comment">//10     2   [1, 5, 10, 15]</span></span><br><span class="line"> <span class="comment">//15     3   [1, 5, 10, 15]</span></span><br></pre></td></tr></table></figure>

<p> findIndex 方法的用法与 find 方法很类似，返回第一个符合条件的数组成员的位置，如果所有成员都不符合条件，则返回 -1</p>
<p>indexOf 方法无法识别数组的 NaN 成员，但是 findIndex 方法可以借助 Object.is 方法做到。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="literal">NaN</span>,<span class="string">&#x27;c&#x27;</span>].indexOf(<span class="literal">NaN</span>)</span><br><span class="line"><span class="comment">// -1</span></span><br><span class="line"></span><br><span class="line">[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="literal">NaN</span>,<span class="string">&#x27;c&#x27;</span>].findIndex(<span class="function"><span class="params">y</span> =&gt;</span> <span class="built_in">Object</span>.is(<span class="literal">NaN</span>, y))</span><br><span class="line"><span class="comment">// 2</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>其他</p>
<ol>
<li><p>map()</p>
<p>映射，即原数组映射成一个新的数组</p>
<p>map方法接受一个新参数，这个参数就是将原数组变成新数组的映射关系。</p>
</li>
<li></li>
</ol>
</li>
</ol>
<p><a target="_blank" rel="noopener" href="http://lzhello.top/2021/05/11/leetcode%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/#more">刷题用的</a></p>
<h3 id="var-let-const"><a href="#var-let-const" class="headerlink" title="var, let, const"></a>var, let, const</h3><ul>
<li>var 声明的变量存在变量提升，而 let 和 const 不存在变量提升</li>
<li>let 和 const 声明形成块作用域，要先定义后使用</li>
<li>同一作用域下 let 和 const 不能声明同名变量，而 var 可以</li>
<li>通过 let/const 声明的变量直到它们的定义被执行时才初始化。在变量初始化前访问该变量会导致 ReferenceError。该变量处在一个自块顶部到初始化处理的“暂存死区”中。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">do_something</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(bar); <span class="comment">// undefined</span></span><br><span class="line">	<span class="built_in">console</span>.log(foo); <span class="comment">// ReferenceError</span></span><br><span class="line">	<span class="keyword">var</span> bar = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">let</span> foo = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>const 一旦声明必须赋值，不能使用 null 占位；声明后不能再修改；如果声明的是复合类型数据，可以修改其属性。</li>
<li>var 声明的变量会作为 window 的一个属性，而 let 和 const 声明的变量不会。</li>
</ul>
<h3 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h3><ol>
<li>箭头函数是匿名函数，不能作为构造函数，不能使用 new</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">111</span>)</span><br><span class="line">&#125;</span><br><span class="line">a();</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> fn = <span class="keyword">new</span> a()</span><br><span class="line">VM325:<span class="number">1</span> Uncaught <span class="built_in">TypeError</span>: a is not a <span class="title">constructor</span></span><br><span class="line">    <span class="title">at</span> &lt;<span class="title">anonymous</span>&gt;:1:10</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>箭头函数不绑定 arguments，取而代之用 rest 参数解决</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">A</span>(<span class="params">a</span>) </span>&#123; <span class="built_in">console</span>.log(<span class="built_in">arguments</span>) &#125;</span><br><span class="line">A(<span class="number">2</span>, <span class="string">&#x27;zzm&#x27;</span>, <span class="string">&#x27;mzm&#x27;</span>)</span><br><span class="line">Arguments(<span class="number">3</span>) [<span class="number">2</span>, <span class="string">&#x27;zzm&#x27;</span>, <span class="string">&#x27;mzm&#x27;</span>, <span class="attr">callee</span>: f, <span class="built_in">Symbol</span>(<span class="built_in">Symbol</span>.iterator):f]</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> B = <span class="function">(<span class="params">b</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);</span><br><span class="line">&#125;</span><br><span class="line">B(<span class="number">2</span>, <span class="number">92</span>, <span class="number">32</span>, <span class="number">32</span>); <span class="comment">// Uncaught ReferenceError: arguments is not defined</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>this 的作用域不同， 箭头函数不绑定 this，会捕获其所在的上下文的 this 值，作为自己的 this 值</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  a: <span class="number">10</span>, </span><br><span class="line">  b: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.a); <span class="comment">// undefined</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>); <span class="comment">// window &#123;postMessage: f, blur: f, close: f, frames: Window,...&#125;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  c: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.a); <span class="comment">// 10</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>); <span class="comment">// &#123;a: 10, f: f, c: f&#125;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.b()</span><br><span class="line">obj.c()</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>箭头函数没有原型属性</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a.prototype); <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(b.prototype); <span class="comment">// &#123; consttructor: f &#125;</span></span><br></pre></td></tr></table></figure>

<ol start="5">
<li>箭头函数不能当做 Generator 函数，不能使用 yield 关键字</li>
</ol>
<h2 id="变量类型和计算"><a href="#变量类型和计算" class="headerlink" title="变量类型和计算"></a>变量类型和计算</h2><ul>
<li><p>JS值类型和引用类型的区别</p>
<ol>
<li>typeof能判断哪些类型</li>
<li>何时使用===何时使用==</li>
<li>值类型和引用类型的区别</li>
<li>手写深拷贝</li>
</ol>
</li>
<li><p>变量类型</p>
<p>值类型vs引用类型</p>
<p>typeof运算符</p>
<p>深拷贝</p>
</li>
<li><p>变量计算</p>
</li>
</ul>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//值类型</span></span><br><span class="line"><span class="keyword">let</span> a =<span class="number">100</span>;</span><br><span class="line"><span class="keyword">let</span> b = a;</span><br><span class="line">a=<span class="number">200</span>;</span><br><span class="line"><span class="built_in">console</span>.log(b);<span class="comment">//100</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//引用类型</span></span><br><span class="line"><span class="keyword">let</span> c =&#123;<span class="attr">age</span>:<span class="number">20</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> d = c;</span><br><span class="line">d.age=<span class="number">21</span>;</span><br><span class="line"><span class="built_in">console</span>.log(c.age);<span class="comment">//21</span></span><br></pre></td></tr></table></figure>

<p>  <img src="https://res.cloudinary.com/drx6hbrzu/image/upload/v1619451038/1619451006_1_a3fjal.png"></p>
<p>  为什么不把内存地址中的东西直接存在栈里：性能，复制慢</p>
<ul>
<li><p>常见值类型:undefined, ‘abc’, 100, true, Symbol(‘s’)</p>
</li>
<li><p>常见引用类型：</p>
<p>obj={ x:100}</p>
<p>arr=[1,2,3]</p>
<p>null(特殊引用类型，指针指向空地址)</p>
<p>function fn(){}(特殊引用类型，不用于存储数据，所以没有拷贝，复制函数一说)</p>
<ul>
<li>基本数据类型</li>
</ul>
<blockquote>
<p>字符串（String）、数值（Number）、布尔值（Boolean）、Null、Undefined</p>
<p>1.占用空间固定，保存在栈中</p>
<p>2、保存与复制的是值本身</p>
<p>3、使用 typeof 检测数据的类型</p>
</blockquote>
<ul>
<li>引用类型</li>
</ul>
<blockquote>
<p>对象（Object）、数组（Array）、函数（Function）</p>
<p>1、占用空间不固定，保存在堆中</p>
<p>2、保存与复制的是指向对象的一个指针</p>
<p>3、使用 instanceof 检测数据类型</p>
</blockquote>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/m0_37622530/article/details/81429837">堆、栈和队列</a></p>
<ol>
<li><p>堆是在程序运行时，而不是在程序编译时，申请某个大小的内存空间。</p>
<p>即动态分配内存，对其访问和对一般内存的访问没有区别。堆是指程序运行时申请的动态内存，而栈只是指一种使用堆的方法(即先进后出)。</p>
</li>
<li><p>栈（stack）——先进后出，删除与加入均在栈顶操作</p>
<p>栈也称为堆栈，是一种线性表。</p>
<p>堆栈的特性： 最先放入堆栈中的内容最后被拿出来，最后放入堆栈中的内容最先被拿出来， 被称为先进后出、后进先出</p>
</li>
<li><p>队列——先进先出</p>
<p>队列也是一种特殊的线性表。不同于栈所服从的先进后出的原则，队列的原则是先进先出。</p>
<p>队列在队头做删除操作,在队尾做插入操作</p>
</li>
</ol>
<h4 id="typeof运算符"><a href="#typeof运算符" class="headerlink" title="typeof运算符"></a>typeof运算符</h4><ol>
<li>能识别出所有的值类型</li>
<li>识别函数</li>
<li>判断是否是引用类型（不可再细分）</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//判断所有的值的类型</span></span><br><span class="line"><span class="keyword">let</span> a;<span class="comment">//undefined</span></span><br><span class="line"><span class="keyword">const</span> str = <span class="string">&quot;abc&quot;</span>; <span class="comment">//string</span></span><br><span class="line"><span class="keyword">const</span> n = <span class="number">100</span> ; <span class="comment">//number</span></span><br><span class="line"><span class="keyword">const</span> b = <span class="literal">true</span> ; <span class="comment">//boolean </span></span><br><span class="line"><span class="keyword">const</span> s = <span class="built_in">Symbol</span>(<span class="string">&#x27;s&#x27;</span>); <span class="comment">//symbol</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//能判断函数</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">console</span>.log; <span class="comment">//function</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;; <span class="comment">//function</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//能识别引用类型</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">null</span> <span class="comment">// object</span></span><br><span class="line"><span class="keyword">typeof</span> [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>] <span class="comment">//object</span></span><br><span class="line"><span class="keyword">typeof</span> &#123;<span class="attr">x</span> : <span class="number">100</span>&#125; <span class="comment">//object</span></span><br></pre></td></tr></table></figure>

<h4 id="深拷贝"><a href="#深拷贝" class="headerlink" title="深拷贝"></a>深拷贝</h4><table>
<thead>
<tr>
<th></th>
<th>是否与原数据指向同一对象</th>
<th>第一层数据为基本数据类型</th>
<th>原数据中包含子对象</th>
</tr>
</thead>
<tbody><tr>
<td>赋值</td>
<td>是</td>
<td>改变会使原数据一同改变</td>
<td>改变会使原数据一同改变</td>
</tr>
<tr>
<td>浅拷贝</td>
<td>否</td>
<td>改变<strong>不会</strong>使原数据一同改变</td>
<td>改变会使原数据一同改变</td>
</tr>
<tr>
<td>深拷贝</td>
<td>否</td>
<td>改变<strong>不会</strong>使原数据一同改变</td>
<td>改变<strong>不会</strong>使原数据一同改变</td>
</tr>
</tbody></table>
<p>注意判断值类型/引用类型</p>
<p>注意判断是数组还是对象</p>
<p>递归</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj1 = &#123;</span><br><span class="line">    age:<span class="number">20</span>,</span><br><span class="line">    name:<span class="string">&quot;object1&quot;</span>,</span><br><span class="line">    address:&#123;</span><br><span class="line">        city:<span class="string">&quot;beijing&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> obj2 = obj1;</span><br><span class="line">obj2.address.city = <span class="string">&quot;shanghai&quot;</span>;<span class="comment">//浅拷贝，引用值类型</span></span><br><span class="line"><span class="built_in">console</span>.log(obj1.address.city);<span class="comment">//shanghai</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">*深拷贝</span></span><br><span class="line"><span class="comment">*<span class="doctag">@param <span class="type">&#123;Object&#125;</span> </span>obj 要拷贝的对象 </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepClone</span>(<span class="params">obj = &#123;&#125;</span>)</span>&#123;</span><br><span class="line">    <span class="function"><span class="title">if</span>(<span class="params"><span class="keyword">typeof</span> obj !== <span class="string">&#x27;object&#x27;</span> || obj == <span class="literal">null</span></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> obj; <span class="comment">//如果不是对象或者数组，没有深拷贝的必要，直接返回</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//初始化返回结果</span></span><br><span class="line">    <span class="keyword">let</span> result;</span><br><span class="line">    <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> <span class="built_in">Array</span>)&#123;<span class="comment">//判断是不是数组</span></span><br><span class="line">        result=[];</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        result=&#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">for</span>(<span class="params"><span class="keyword">let</span> key <span class="keyword">in</span> obj</span>)</span>&#123;</span><br><span class="line">        <span class="function"><span class="title">if</span>(<span class="params">obj.hasOwnProperty(key)</span>)</span>&#123;</span><br><span class="line">            <span class="comment">//保证key不是原型的属性</span></span><br><span class="line">            <span class="comment">//递归调用</span></span><br><span class="line">            result[key] = deepClone(obj[key]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//返回结果</span></span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj3 = deepClone(obj1);</span><br><span class="line">obj3.address.city = <span class="string">&quot;shenzhen&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj1.address.city);<span class="comment">//shanghai </span></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/baiyangyuanzi/p/6519612.html">使用JSON.parse(),JSON.stringify()实现对对象的深拷贝</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//JSON.stringify() 从一个对象中解析出字符串</span></span><br><span class="line"><span class="built_in">JSON</span>.stringify(&#123;<span class="string">&quot;a&quot;</span>:<span class="string">&quot;1&quot;</span>,<span class="string">&quot;b&quot;</span>:<span class="string">&quot;2&quot;</span>&#125;)</span><br><span class="line"><span class="comment">//&quot;&#123;\&quot;a\&quot;:\&quot;1\&quot;,\&quot;b\&quot;:\&quot;2\&quot;&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//JSON.parse()从一个字符串中解析出JSON对象</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;&#123;&quot;a&quot;:&quot;1&quot;,&quot;b&quot;:&quot;2&quot;&#125;&#x27;</span>;</span><br><span class="line"><span class="built_in">JSON</span>.parse(str);</span><br><span class="line"><span class="comment">//Object &#123;a: &quot;1&quot;, b: &quot;2&quot;&#125;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> test=&#123;</span><br><span class="line">    a:<span class="string">&quot;ss&quot;</span>,</span><br><span class="line">    b:<span class="string">&quot;dd&quot;</span>,</span><br><span class="line">    c:[</span><br><span class="line">        &#123;<span class="attr">dd</span>:<span class="string">&quot;css&quot;</span>,<span class="attr">ee</span>:<span class="string">&quot;cdd&quot;</span>&#125;,</span><br><span class="line">        &#123;<span class="attr">mm</span>:<span class="string">&quot;ff&quot;</span>,<span class="attr">nn</span>:<span class="string">&quot;ee&quot;</span>&#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> test1 = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(test));<span class="comment">//拷贝数组,注意这行的拷贝方法</span></span><br><span class="line"><span class="built_in">console</span>.log(test);</span><br><span class="line"><span class="built_in">console</span>.log(test1);</span><br><span class="line">test1.c[<span class="number">0</span>].dd=<span class="string">&quot;change&quot;</span>; <span class="comment">//改变test1的c属性对象的d属性</span></span><br><span class="line"><span class="built_in">console</span>.log(test);  <span class="comment">//不影响test</span></span><br><span class="line"><span class="built_in">console</span>.log(test1);</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/lwwen/p/11579337.html">缺点</a></p>
<h4 id="变量计算（类型转换）"><a href="#变量计算（类型转换）" class="headerlink" title="变量计算（类型转换）"></a>变量计算（类型转换）</h4><ul>
<li><p>字符串拼接</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="number">100</span>+<span class="number">10</span>;<span class="comment">//110</span></span><br><span class="line"><span class="keyword">const</span> b = <span class="number">100</span>+<span class="string">&#x27;10&#x27;</span>;<span class="comment">//10010</span></span><br><span class="line"><span class="keyword">const</span> c = <span class="literal">true</span>+<span class="string">&#x27;10&#x27;</span>;<span class="comment">//true10 </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> d = <span class="number">100</span> + <span class="built_in">parseInt</span>(<span class="string">&#x27;10&#x27;</span>);<span class="comment">//110</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>==（可能发生类型转换，会尽量发生转换使其相等）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">100</span> == <span class="string">&#x27;100&#x27;</span>;<span class="comment">//true</span></span><br><span class="line"><span class="number">0</span> == <span class="string">&#x27;&#x27;</span>;<span class="comment">//true</span></span><br><span class="line"><span class="number">0</span> == <span class="literal">false</span> ;<span class="comment">//true</span></span><br><span class="line"><span class="literal">false</span> == <span class="string">&#x27;&#x27;</span>;<span class="comment">//true</span></span><br><span class="line"><span class="literal">null</span> == <span class="literal">undefined</span> ; <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<p>除了 == null之外，其他都一律用 ===</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    x:<span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">if</span>(<span class="params">obj.a == <span class="literal">null</span></span>)</span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;<span class="comment">//相当于判断了if(obj.a === null ||obj.a ===undefined)&#123;&#125;</span></span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>if语句和逻辑运算</p>
<p>truly变量： <code>!!a === true</code> 的变量</p>
<p>falsely变量： <code>!!a === false</code> 的变量</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">!!<span class="number">0</span> === <span class="literal">false</span>;</span><br><span class="line">!!<span class="literal">NaN</span> === <span class="literal">false</span>;</span><br><span class="line">!!<span class="string">&#x27;&#x27;</span> === <span class="literal">false</span>;</span><br><span class="line">!!<span class="literal">null</span> === <span class="literal">false</span>;</span><br><span class="line">!!<span class="literal">undefined</span> === <span class="literal">false</span>;</span><br><span class="line">!!<span class="literal">false</span> ===<span class="literal">false</span>;</span><br><span class="line"><span class="comment">//除了这些都是truly变量</span></span><br></pre></td></tr></table></figure>

<p>if判断的就是truly和falsely变量</p>
<p>逻辑判断</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">10</span> &amp;&amp; <span class="number">0</span>);<span class="comment">//0   因为10是truly，0是falsely，&amp;&amp;与运算</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">0</span> &amp;&amp; <span class="number">10</span>);<span class="comment">//0</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;&#x27;</span> || <span class="string">&#x27;abc&#x27;</span>);<span class="comment">//&#x27;abc&#x27;  因为&#x27;abc&#x27;是truly，&#x27;&#x27;是falsely，||或运算，</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;abc&#x27;</span>||<span class="string">&#x27;&#x27;</span>);<span class="comment">//&#x27;abc&#x27;</span></span><br><span class="line"><span class="built_in">console</span>.log(!<span class="built_in">window</span>.abc);<span class="comment">//true</span></span><br></pre></td></tr></table></figure>


</li>
</ul>
<h4 id="变量提升"><a href="#变量提升" class="headerlink" title="变量提升"></a>变量提升</h4><h2 id="原型和原型链"><a href="#原型和原型链" class="headerlink" title="原型和原型链"></a>原型和原型链</h2><h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><p>原型对象是在创建普通函数或构造函数时，解析器都会向函数中添加一个属性 prototype，它指向了一个对象，叫原型对象。当我们使用构造函数实例化多个对象时，原型对象相当于一块公共的区域，实例化的对象可以具有隐含的 <strong>proto</strong> 属性，指向了原型对象的内存地址，进而可以访问到原型对象。</p>
<p>而原型对象也是一个对象，它同样具有属性 prototype 指向原型对象的原型对象，当构造函数中不存在实例化对象的某个属性时，会从它的原型对象中寻找该属性，如果没有该属性，则会中在原型对象中的原型中寻找，这样就形成了一个原型链，直到找到该属性，或者值位 null。</p>
<ul>
<li><p>知识点</p>
<ul>
<li>class和继承</li>
<li>类型判断instanceof</li>
<li>原型和原型链</li>
</ul>
</li>
<li><p>class</p>
<ul>
<li>constructor</li>
<li>属性</li>
<li>方法</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">name,number</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.number = number;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="title">sayHi</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(</span><br><span class="line">        	<span class="string">`姓名 <span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span>, 学号 <span class="subst">$&#123;<span class="built_in">this</span>.number&#125;</span>`</span></span><br><span class="line">       	)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//通过类声明对象/实例</span></span><br><span class="line"><span class="keyword">const</span> xiaoming = <span class="keyword">new</span> Student(<span class="string">&#x27;小明&#x27;</span>,<span class="number">1234</span>);</span><br><span class="line"><span class="built_in">console</span>.log(xiaoming.name);<span class="comment">//小明</span></span><br><span class="line"><span class="built_in">console</span>.log(xiaoming.number);<span class="comment">//1234</span></span><br><span class="line">xiaoming.sayHi();<span class="comment">//姓名 小明, 学号 1234</span></span><br></pre></td></tr></table></figure>



</li>
</ul>
<h5 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h5><ul>
<li><p>extends</p>
</li>
<li><p>super</p>
</li>
<li><p>扩展或重写方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">People</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">eat</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">` <span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span> eat something`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;<span class="comment">//父类</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">People</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">name,number</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">super</span>(name);</span><br><span class="line">        <span class="built_in">this</span>.number = number;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">sayHi</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`姓名 <span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span>, 学号 <span class="subst">$&#123;<span class="built_in">this</span>.number&#125;</span>`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Teacher</span> <span class="keyword">extends</span> <span class="title">People</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">name, major</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">super</span>(name)</span><br><span class="line">        <span class="built_in">this</span>.major = major</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">teach</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span> 教 <span class="subst">$&#123;<span class="built_in">this</span>.major&#125;</span>`</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> People(<span class="string">&quot;people1&quot;</span>);</span><br><span class="line">p1.eat();<span class="comment">// people1 eat something</span></span><br><span class="line"><span class="keyword">const</span> xiaoming = <span class="keyword">new</span> Student(<span class="string">&quot;小明&quot;</span>,<span class="number">1234</span>);</span><br><span class="line">xiaoming.sayHi(); <span class="comment">//姓名 小明, 学号 1234</span></span><br><span class="line"><span class="keyword">const</span> wang = <span class="keyword">new</span> Teacher(<span class="string">&quot;王&quot;</span>,<span class="string">&quot;math&quot;</span>)</span><br><span class="line">wang.teach(); <span class="comment">//王 教 math//父类</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="类型判断-instanceof"><a href="#类型判断-instanceof" class="headerlink" title="类型判断 instanceof"></a>类型判断 instanceof</h4><p>instanceof是基于原型链实现的</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">xiaoming <span class="keyword">instanceof</span> Student;<span class="comment">//true</span></span><br><span class="line">xiaoming <span class="keyword">instanceof</span> People;<span class="comment">//true</span></span><br><span class="line">xiaoming <span class="keyword">instanceof</span> <span class="built_in">Object</span>;<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">[] <span class="keyword">instanceof</span> <span class="built_in">Array</span>;<span class="comment">//true</span></span><br><span class="line">[] <span class="keyword">instanceof</span> <span class="built_in">Object</span>;<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//class实际上是函数</span></span><br><span class="line"><span class="keyword">typeof</span> Student;<span class="comment">//function</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//隐式原型</span></span><br><span class="line"><span class="built_in">console</span>.log(xiaoming.__proto__);</span><br><span class="line"><span class="comment">//显式原型</span></span><br><span class="line"><span class="built_in">console</span>.log(Student.prototype);</span><br><span class="line">xiaoming.__proto__ === Student.prototype; <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<p>在定义Student的时候，会有一个属性prototype指向Student.prototype对象，Student的方法都放在prototype里。new出了xiaoming之后，xiaoming的属性有name, number, __ proto__ ，__ proto__ 是隐式原型，指向Student.prototype</p>
<p>原型关系：</p>
<ol>
<li>每个class都有显示原型prototype</li>
<li>每个实例都有隐式原型__ proto__</li>
<li>实例的隐式原型指向class的显式原型</li>
</ol>
<p>基于原型的执行规则：</p>
<p>获取属性的xiaoming.name或者执行方法xiaoming.sayHi()时，先在自身属性和方法寻找，如果找不到，就会去隐式原型中查找</p>
<p>原型链：</p>
<p><code>People.prototype === Student.prototype.__proto__</code></p>
<p><img src="https://res.cloudinary.com/drx6hbrzu/image/upload/v1621428918/3_7U_JSVSRC_PCHKI9E_GW1_pmj1ub.png" alt="原型链"></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xiaoming.hasOwnProperty(<span class="string">&#x27;name&#x27;</span>);<span class="comment">//true</span></span><br><span class="line">xiaoming.hasOwnProperty(<span class="string">&#x27;sayHi&#x27;</span>);<span class="comment">//false</span></span><br><span class="line">xiaoming.__proto__.hasOwnProperty(<span class="string">&#x27;sayHi&#x27;</span>);<span class="comment">//true</span></span><br><span class="line">xiaoming.__proto__.__proto__.hasOwnProperty(<span class="string">&#x27;eat&#x27;</span>);<span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<p>class是ES6语法规范，由ECMA委员会发布，ECMA只规定语法规则，即代码的书写规范，不规定如何实现，所以以上的实现方式全部都是V8引擎的实现方式</p>
<h4 id><a href="#" class="headerlink" title></a></h4><h3 id="如何准确判断一个变量是不是数组？"><a href="#如何准确判断一个变量是不是数组？" class="headerlink" title="如何准确判断一个变量是不是数组？"></a>如何准确判断一个变量是不是数组？</h3><p>instanceof Array</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = []</span><br><span class="line">arr <span class="keyword">instanceof</span> <span class="built_in">Array</span> <span class="comment">// 1. 使用 instanceof</span></span><br><span class="line">arr.__proto__ === <span class="built_in">Array</span>.prototype <span class="comment">// 2. 使用 __proto__</span></span><br><span class="line">arr.constructor === <span class="built_in">Array</span>  <span class="comment">// 3. 使用 constructor ，以上三种主要是通过原型来判断的</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(arr) === <span class="string">&#x27;[object Array]&#x27;</span>  <span class="comment">// 4. 通过 object 类型的副属性 class 来判断，其中 函数的 class 是 Function</span></span><br><span class="line"><span class="built_in">Array</span>.isArray(arr) <span class="comment">// 5. es6 新增语法</span></span><br></pre></td></tr></table></figure>

<h3 id="class原型的本质？"><a href="#class原型的本质？" class="headerlink" title="class原型的本质？"></a>class原型的本质？</h3><p>原型和原型链的图示</p>
<p>属性和方法的执行规则</p>
<h3 id="手写简易jQuery"><a href="#手写简易jQuery" class="headerlink" title="手写简易jQuery"></a>手写简易jQuery</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">jQuery</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">selector</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">const</span> result = <span class="built_in">document</span>.querySelectorAll(selector);</span><br><span class="line">        <span class="keyword">const</span> length = result.length;</span><br><span class="line">        <span class="function"><span class="title">for</span>(<span class="params"><span class="keyword">let</span> i=<span class="number">0</span>;i&lt;length;i++</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">this</span>[i]=result[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">this</span>.length = length;</span><br><span class="line">        <span class="built_in">this</span>.selector = selector;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">get</span>(<span class="params">index</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>[index];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">each</span>(<span class="params">fn</span>)</span>&#123;</span><br><span class="line">        <span class="function"><span class="title">for</span>(<span class="params"><span class="keyword">let</span> i=<span class="number">0</span>;i&lt;<span class="built_in">this</span>.length;i++</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">const</span> elem = <span class="built_in">this</span>[i];</span><br><span class="line">            fn(elem);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">on</span>(<span class="params">type, fn</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.each(<span class="function"><span class="params">elem</span>=&gt;</span>&#123;</span><br><span class="line">            elem.addEventListener(type, fn, <span class="literal">false</span>);</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//可以扩展很多DOM API</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//插件</span></span><br><span class="line">jQuery.prototype.dialog = <span class="function"><span class="keyword">function</span>(<span class="params">info</span>)</span>&#123;</span><br><span class="line">    alert(info)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//复写 &#x27;造轮子&#x27;</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">myJQuery</span> <span class="keyword">extends</span> <span class="title">jQuery</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">selector</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">super</span>(selector);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//扩展自己的方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在HTML里放三个p标签元素,写hello1,hello2,hello3</span></span><br><span class="line"><span class="keyword">const</span> $p = <span class="keyword">new</span> jQuery(<span class="string">&#x27;p&#x27;</span>);<span class="comment">//选中所有p元素</span></span><br><span class="line">$p;	<span class="comment">//jQuery &#123;0: p, 1: p, 2: p, length: 3, selector: &quot;p&quot;&#125;</span></span><br><span class="line">$p.get(<span class="number">1</span>);<span class="comment">//&lt;p&gt;hello2&lt;/p&gt;</span></span><br><span class="line">$p.each(<span class="function">(<span class="params">elem</span>)=&gt;</span><span class="built_in">console</span>.log(elem.nodeName));<span class="comment">//③p</span></span><br><span class="line">$p.on(<span class="string">&#x27;click&#x27;</span>,<span class="function">()=&gt;</span>alert(<span class="string">&#x27;clicked&#x27;</span>));<span class="comment">//点击任意一个HTML里的p元素会alert clicked</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>ES5实现ES6的extend继承</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.prototype</span></span><br><span class="line"><span class="comment">// 这种方式无法在生成对象时进行传参</span></span><br><span class="line"><span class="comment">// 且由classA生成的实例对象会共享name属性</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">classA</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">this</span>.name = <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line">classA.prototype.getName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">this</span>.name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">classB</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line">classB.prototype = <span class="keyword">new</span> classA();</span><br><span class="line">classB.prototype.constructor = classB;</span><br><span class="line"><span class="keyword">var</span> b = <span class="keyword">new</span> classB();</span><br><span class="line"><span class="built_in">console</span>.log(b.getName()); <span class="comment">//hello</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.原型链上加构造函数</span></span><br><span class="line"><span class="comment">// 能够传参</span></span><br><span class="line"><span class="comment">// 且公有变量不会被其他实例共享</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">classA</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line">classA.prototype.getName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">classB</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">    classA.call(<span class="built_in">this</span>,name);</span><br><span class="line">&#125;</span><br><span class="line">classB.prototype = <span class="keyword">new</span> classA();</span><br><span class="line">classB.prototype.constructor = classB;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = <span class="keyword">new</span> classB(<span class="string">&#x27;world&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> c = <span class="keyword">new</span> classB(<span class="string">&#x27;yes&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(b.getName());    <span class="comment">//world</span></span><br><span class="line"><span class="built_in">console</span>.log(c.getName());    <span class="comment">//yes</span></span><br></pre></td></tr></table></figure>


</li>
</ul>
<h3 id="遍历对象"><a href="#遍历对象" class="headerlink" title="遍历对象"></a>遍历对象</h3><ol>
<li><p>for…in</p>
<p>for in 循环是最基础的遍历对象的方式，它还会得到对象原型链上的属性</p>
<p>遍历输出的是对象自身的属性以及原型链上可枚举的属性(不含Symbol属性),</p>
<p>原型链上的属性最后输出说明: 先遍历的是自身的可枚举属性,后遍历原型链上的</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建一个对象并指定其原型，bar 为原型上的属性</span></span><br><span class="line"><span class="keyword">const</span> obj = <span class="built_in">Object</span>.create(&#123;</span><br><span class="line"> bar: <span class="string">&#x27;bar&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// foo 为对象自身的属性</span></span><br><span class="line">obj.foo = <span class="string">&#x27;foo&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line"> <span class="built_in">console</span>.log(obj[key]) <span class="comment">// foo, bar</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Object.keys（obj）, Object.values（obj）</p>
<p>遍历对象返回的是一个包含对象自身可枚举属性的数组(不含Symbol属性).</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123; </span><br><span class="line">    <span class="string">&#x27;name&#x27;</span>: <span class="string">&quot;yayaya&quot;</span>, </span><br><span class="line">    <span class="string">&#x27;age&#x27;</span>: <span class="string">&#x27;12&#x27;</span>, </span><br><span class="line">    <span class="string">&#x27;sex&#x27;</span>: <span class="string">&#x27;female&#x27;</span> </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.prototype.pro1 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">&#x27;country&#x27;</span>, &#123;</span><br><span class="line">  Enumerable: <span class="literal">true</span>,</span><br><span class="line">  value: <span class="string">&#x27;ccc&#x27;</span></span><br><span class="line">&#125;);</span><br><span class="line"> </span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">&#x27;nation&#x27;</span>, &#123;</span><br><span class="line">  Enumerable: <span class="literal">false</span> <span class="comment">//不可枚举</span></span><br><span class="line">&#125;)</span><br><span class="line"> </span><br><span class="line">obj.country = <span class="string">&#x27;china&#x27;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="built_in">Object</span>.keys(obj).forEach(<span class="function"><span class="keyword">function</span>(<span class="params">key</span>) </span>&#123;</span><br><span class="line"> </span><br><span class="line">  <span class="built_in">console</span>.log(index, obj[key])	<span class="comment">//name yayaya;	age 12;	sex female;	country china </span></span><br><span class="line"> </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>Objcet.getOwnPropertyNames()</p>
<p>输出对象自身的可枚举和不可枚举属性的数组,不输出原型链上的属性</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123; <span class="string">&#x27;name&#x27;</span>: <span class="string">&quot;yayaya&quot;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="string">&#x27;12&#x27;</span>, <span class="string">&#x27;sex&#x27;</span>: <span class="string">&#x27;female&#x27;</span> &#125;;</span><br><span class="line"> </span><br><span class="line"><span class="built_in">Object</span>.prototype.pro1 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"> </span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">&#x27;country&#x27;</span>, &#123;</span><br><span class="line"> </span><br><span class="line">  Enumerable: <span class="literal">true</span>,</span><br><span class="line"> </span><br><span class="line">  value: <span class="string">&#x27;ccc&#x27;</span></span><br><span class="line"> </span><br><span class="line">&#125;);</span><br><span class="line"> </span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">&#x27;nation&#x27;</span>, &#123;</span><br><span class="line"> </span><br><span class="line">  Enumerable: <span class="literal">false</span> <span class="comment">//不可枚举</span></span><br><span class="line"> </span><br><span class="line">&#125;)</span><br><span class="line"> </span><br><span class="line">obj.country = <span class="string">&#x27;china&#x27;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertyNames(obj).forEach(<span class="function"><span class="keyword">function</span>(<span class="params">key</span>) </span>&#123;</span><br><span class="line"> </span><br><span class="line">  <span class="built_in">console</span>.log(index, obj[key])	<span class="comment">//name yayaya; age 12; sex female; country ccc; nation undefined</span></span><br><span class="line"> </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="遍历数组"><a href="#遍历数组" class="headerlink" title="遍历数组"></a>遍历数组</h3><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/woshidouzia/p/9304603.html">数组遍历方法</a></p>
<ol>
<li><p>for循环</p>
</li>
<li><p>forEach循环，遍历数组中的每一项，没有返回值，对原数组没有影响，不支持IE</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1 没有返回值</span></span><br><span class="line">arr.forEach(<span class="function">(<span class="params">item,index,array</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//执行代码</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//参数：value数组中的当前项, index当前项的索引, array原始数组；</span></span><br><span class="line"><span class="comment">//数组中有几项，那么传递进去的匿名回调函数就需要执行几次；</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>map循环</p>
</li>
<li></li>
</ol>
<h2 id="作用域和闭包"><a href="#作用域和闭包" class="headerlink" title="作用域和闭包"></a>作用域和闭包</h2><ul>
<li>知识点<ul>
<li>作用域和自由变量</li>
<li>闭包</li>
<li>this</li>
</ul>
</li>
</ul>
<h4 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h4><p>概念： 编程语言最基本的功能之一就是存储变量当中的值，并且能够在之后对这个值进行访问或者修改。一套设计良好的规则用来存储变量，并且之后可以方便地找到这些变量，这套规则就是作用域 </p>
<p>赋值操作的左边/右边： LHS RHS</p>
<p>LHS: 找容器赋值</p>
<p>RHS: 查找</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">a</span>)</span>&#123;		<span class="comment">//查找foo，RHS; </span></span><br><span class="line">    <span class="built_in">console</span>.log(a)		<span class="comment">//查找console，RHS；		查找a，RHS</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo(<span class="number">2</span>)	<span class="comment">//隐式操作a=2,2会被分配给a，为了给a隐式地分配值，需要一次LHS查询</span></span><br></pre></td></tr></table></figure>

<p>LHS和RHS引用都会在当前的执行作用域中开始查找变量，如果找不到就想上一级继续查找</p>
<ul>
<li><p>为什么要区分LHS和RHS？</p>
</li>
<li><p>因为在变量还没有声明（在任何作用域中都没法找到该变量）的情况下，这两种查询的行为是不同的</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a+b)</span><br><span class="line">    b=a</span><br><span class="line">&#125;</span><br><span class="line">foo(<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<p>第一次对b进行RHS查询的时候时无法找到该变量的，引擎会报错ReferenceError</p>
<p>相比之下，如果引擎执行LHS查询时，在顶层也没有找到目标变量，<u>全局作用域会创建一个具有该名称的变量，并且把它返回给引擎</u>（前提是程序运行在非严格模式下）</p>
</li>
<li><p>ES5引入了严格模式，比起正常模式，严格模式在行为上有很多不同，如<strong>禁止自动或者隐式地创建全局变量</strong>。因此严格模式中的LHS查询失败的时候也会返回ReferenceError</p>
</li>
<li><p>如果RHS查询到的一个变量，但是程序尝试对这个变量的值进行不合理的操作，比如试图对一个非函数类型地值进行函数调用，或者引用null或者undefined类型的值中的属性，引擎会抛出另一种类型的异常<strong>TypeError</strong></p>
</li>
<li><p>ReferenceError： 作用域判别失败</p>
</li>
<li><p>TypeError： 作用域判别成功，但是对结果的操作不合理/非法</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/wu_xiaozhou/article/details/52832645">JS的解析原理和变量作用域</a></p>
</li>
<li><p>全局作用域</p>
</li>
<li><p>函数作用域</p>
</li>
<li><p>块级作用域ES6新增</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ES6块级作用域</span></span><br><span class="line"><span class="function"><span class="title">if</span>(<span class="params"><span class="literal">true</span></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> x =<span class="number">100</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(x);<span class="comment">//error!</span></span><br></pre></td></tr></table></figure>

<ul>
<li>自由变量<ul>
<li>一个变量在当前作用域内没有定义，但是被使用了</li>
<li>向上级作用域，一层一层寻找，直到找到为止</li>
<li>如果全局作用域都没找到，则报错xx is not defined</li>
</ul>
</li>
</ul>
<h4 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h4><p>作用域应用的特殊情况，有两种情况</p>
<ol>
<li>函数作为参数被传递</li>
<li>函数作为返回值被返回</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//函数作为返回值</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">create</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> a = <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> fn = create();</span><br><span class="line"><span class="keyword">let</span> a = <span class="number">200</span>;</span><br><span class="line">fn();<span class="comment">//100</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//函数作为参数被传递</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params">fn</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> a = <span class="number">200</span>;</span><br><span class="line">    fn();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> a = <span class="number">100</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">&#125;</span><br><span class="line">print(fn);<span class="comment">//100</span></span><br></pre></td></tr></table></figure>

<p>闭包：自由变量的查找，是在<strong>函数定义的地方</strong>向上级作用域查找，不是<strong>执行的地方</strong></p>
<p>一个函数和对其周围状态（<strong>lexical environment，词法环境</strong>）的引用捆绑在一起（或者说函数被引用包围），这样的组合就是<strong>闭包</strong>（<strong>closure</strong>）。也就是说，闭包让你可以在一个内层函数中访问到其外层函数的作用域。在 JavaScript 中，每当创建一个函数，闭包就会在函数创建的同时被创建出来。</p>
<h4 id="this"><a href="#this" class="headerlink" title="this"></a>this</h4><ul>
<li>作为普通函数</li>
<li>使用call，apply，bind</li>
<li>作为对象方法被调用</li>
<li>在class方法中被调用</li>
<li>箭头函数</li>
</ul>
<p>this在场景中取什么值是由<strong>函数执行</strong>的时候决定的，不是定义的时候</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">&#125;</span><br><span class="line">fn1();<span class="comment">//Window</span></span><br><span class="line">fn1.call(&#123;<span class="attr">x</span>:<span class="number">200</span>&#125;);<span class="comment">//&#123;x: 200&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fn2 = fn1.bind(&#123;<span class="attr">x</span>:<span class="number">100</span>&#125;);</span><br><span class="line">fn2();<span class="comment">//&#123;x: 100&#125;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a1=&#123;</span><br><span class="line">    name:<span class="string">&quot;a1&quot;</span>;</span><br><span class="line">    <span class="function"><span class="title">sayHi</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">//this 是当前对象</span></span><br><span class="line">		<span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">wait</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        serTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="comment">//this === window</span></span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">this</span>)</span><br><span class="line">            <span class="comment">//作为普通函数被执行</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> a2=&#123;</span><br><span class="line">    name:<span class="string">&quot;a2&quot;</span>;</span><br><span class="line">    <span class="function"><span class="title">sayHi</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">//this 是当前对象</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">waitAgain</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        setTimeOut(<span class="function">() =&gt;</span>&#123;</span><br><span class="line">            <span class="comment">//this 是当前对象</span></span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">this</span>)</span><br><span class="line">            <span class="comment">//箭头函数是呗settimeout触发的</span></span><br><span class="line">           	<span class="comment">//箭头函数的this取上级作用域的值</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">People</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name=name;</span><br><span class="line">        <span class="built_in">this</span>.age=<span class="number">20</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">sayHi</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> zhangsan = <span class="keyword">new</span> People(<span class="string">&#x27;张三&#x27;</span>);</span><br><span class="line">zhangsan.sayHi();<span class="comment">//People &#123;name: &quot;张三&quot;, age: 20&#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h4><ul>
<li><p>this的不同应用场景如何取值</p>
<p>当普通函数被调用，直接返回window</p>
<p>通过call，apply，bind，传入什么就绑定什么</p>
<p>通过对象方法调用，就返回对象本身</p>
<p>在class的方法中调用，返回实例本身</p>
<p>箭头函数，上级作用域的this值</p>
</li>
<li><p>手写bind函数</p>
<p><code>bind()</code> 方法创建一个新的函数，在 <code>bind()</code> 被调用时，这个新函数的 <code>this</code> 被指定为 <code>bind()</code> 的第一个参数，而其余参数将作为新函数的参数，供调用时使用。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params">a,b,c</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;this&#x27;</span>,<span class="built_in">this</span>);	<span class="comment">//this &#123;x: 100&#125;</span></span><br><span class="line">    <span class="built_in">console</span>.log(a,b,c);		<span class="comment">//10 20 30</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;this is fn1&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> fn2 = fn1.bind(&#123;<span class="attr">x</span>:<span class="number">100</span>&#125;,<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>);</span><br><span class="line"><span class="keyword">const</span> result = fn2();</span><br><span class="line"><span class="built_in">console</span>.log(result);  <span class="comment">//this is fn1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">Function</span>.prototype.bind1 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">     <span class="comment">//将参数解析为数组</span></span><br><span class="line">     <span class="keyword">const</span> args = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>);</span><br><span class="line">     </span><br><span class="line">     <span class="comment">//获取this（数组第一项）</span></span><br><span class="line">    <span class="keyword">const</span> t = args.shift();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//fn1.bind(...)中的fn1</span></span><br><span class="line">    <span class="keyword">const</span> self = <span class="built_in">this</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//返回一个函数</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> self.apply(t,args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>实际开发中闭包的应用场景，举例说明</p>
<ul>
<li><p>隐藏数据</p>
</li>
<li><p>比如简单做一个cache的工具</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//闭包隐藏数据，只提供API</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createCache</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> data = &#123;&#125;;<span class="comment">//闭包中的数据，被隐藏，不被外界访问</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        set:<span class="function"><span class="keyword">function</span> (<span class="params">key,val</span>)</span>&#123;</span><br><span class="line">            data[key] = val</span><br><span class="line">        &#125;,</span><br><span class="line">        get:<span class="function"><span class="keyword">function</span> (<span class="params">key</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> data[key]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//作用域只在大括号内，不会被外界访问到</span></span><br><span class="line"><span class="keyword">const</span> c = createCache();</span><br><span class="line">c.set(<span class="string">&#x27;a&#x27;</span>,<span class="number">100</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(c.get(<span class="string">&#x27;a&#x27;</span>));<span class="comment">//100</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>创建10个a标签</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建10个a标签，点击时弹出对应编号</span></span><br><span class="line"><span class="keyword">let</span> a;</span><br><span class="line"><span class="function"><span class="title">for</span>(<span class="params"><span class="keyword">let</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++</span>)</span>&#123;</span><br><span class="line">    a=<span class="built_in">document</span>.createElement(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">    a.innerHTML = i + <span class="string">&#x27;&lt;/br&gt;&#x27;</span>;</span><br><span class="line">    a.addEventListener(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">        e.preventDefault();</span><br><span class="line">        alert(i);</span><br><span class="line">        <span class="comment">//因为这里面的函数不会立马执行，只有被点击的时候才会被执行</span></span><br><span class="line">        <span class="comment">//在这里面执行i的时候，是块级作用域</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(a);</span><br><span class="line"> <span class="comment">//如果在第一行写let i，点击每个a标签都会弹出10</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="原型中的this"><a href="#原型中的this" class="headerlink" title="原型中的this"></a>原型中的this</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xiaoming.sayHi();<span class="comment">//姓名 小明, 学号 1234</span></span><br><span class="line">xiaoming.__proto__.sayHi();<span class="comment">//姓名 undefined， 学号 undefined</span></span><br><span class="line">xiaoming.__proto__.sayHi.call(xiaoming);<span class="comment">//姓名 小明，学号 1234</span></span><br></pre></td></tr></table></figure>

<h4 id="call-apply-bind"><a href="#call-apply-bind" class="headerlink" title="call apply bind"></a>call apply bind</h4><p>call、apply、bind都是改变this指向的方法                 <a target="_blank" rel="noopener" href="https://www.cnblogs.com/cc-freiheit/p/10763492.html">实现</a></p>
<p>call/apply:在功能上完全一致，仅仅是传参方式不一致，这样的好处是在传参个数不一定时，可以使用 apply</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">call(yourObj, arg1, arg2);</span><br><span class="line">apply(yourObj, [arg1, arg2]);</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> common = <span class="string">&#x27;common&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> name = <span class="string">&#x27;global&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  name: <span class="string">&#x27;obj&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">params</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(params + <span class="string">&#x27; &#x27;</span> + <span class="built_in">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">fn(common) <span class="comment">// common global</span></span><br><span class="line">fn.call(obj, common) <span class="comment">// common obj</span></span><br></pre></td></tr></table></figure>

<p>func.bind(yourObj,xxx,xxx) 执行之后会返回一个<strong>新函数</strong>，是 func 函数的副本，不同的是新函数内部 this 永远指向 yourObj，当然这意味着在调用 bind 完成绑定之后，需要手动执行一下这个新函数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">a, b, c</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a, b, c);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> newFn = fn.bind(<span class="literal">null</span>, <span class="string">&#x27;Dot&#x27;</span>);</span><br><span class="line">fn(<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>);      <span class="comment">// A B C</span></span><br><span class="line">newFn(<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>);      <span class="comment">// Dot A B</span></span><br><span class="line">newFn(<span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>);        <span class="comment">// Dot B C</span></span><br></pre></td></tr></table></figure>

<p>可以看到，我们在 bind() 的时候传入了一个参数，新方法的实参都是在 bind 中参数的基础上在往后排。</p>
<h2 id="异步"><a href="#异步" class="headerlink" title="异步"></a>异步</h2><p>知识点</p>
<ul>
<li>单线程和异步</li>
<li>应用场景</li>
<li>callback hell和Promise</li>
</ul>
<h4 id="单线程与异步"><a href="#单线程与异步" class="headerlink" title="单线程与异步"></a>单线程与异步</h4><ul>
<li><p>JS是单线程语言，只能同时做一件事。先加载/先打印，不行</p>
</li>
<li><p>浏览器和nodeJS已支持JS启动进程，比如Web Worker</p>
</li>
<li><p>JS和DOM渲染共用同一个线程，因为JS可以修改DOM结构</p>
</li>
<li><p>遇到等待（网络请求，定时任务）不能卡住</p>
</li>
<li><p>需要异步</p>
</li>
<li><p>回调callback函数形式</p>
</li>
</ul>
<h4 id="异步与同步"><a href="#异步与同步" class="headerlink" title="异步与同步"></a>异步与同步</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//异步 callback 回调函数</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">100</span>);</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">200</span>)</span><br><span class="line">&#125;,<span class="number">1000</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">300</span>);</span><br><span class="line"><span class="comment">//100,300,200</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//同步</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">100</span>);</span><br><span class="line">alert(<span class="number">200</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">300</span>);</span><br><span class="line"><span class="comment">//先出现100，再alert200，不点确认300不出</span></span><br></pre></td></tr></table></figure>

<p>基于JS是单线程语言，异步不会阻塞代码执行，同步会阻塞代码执行</p>
<ul>
<li><p>异步的应用场景</p>
<ul>
<li><p>网络请求，如Ajex, 图片加载等</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Ajex</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;start&#x27;</span>);</span><br><span class="line">$.get(<span class="string">&#x27;./data.json&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">data1</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data1);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;end&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//图片加载</span></span><br><span class="line"><span class="built_in">console</span>.log(;<span class="string">&#x27;start&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> img = <span class="built_in">document</span>.createElement(<span class="string">&#x27;img&#x27;</span>);</span><br><span class="line">img.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;loaded&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line">img.src = <span class="string">&#x27;/xxx.png&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;end&#x27;</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>定时任务，如setTimeout</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//setTimeout</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//setInterval</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">100</span>);</span><br><span class="line"><span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">200</span>);</span><br><span class="line">&#125;,<span class="number">1000</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">300</span>);</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h4 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h4><p><a target="_blank" rel="noopener" href="https://wangdoc.com/javascript/async/promise.html">参考</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getData</span>(<span class="params">url</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span>&#123;</span><br><span class="line">        $.ajax(&#123;</span><br><span class="line">            url,</span><br><span class="line">            <span class="function"><span class="title">success</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">                resolve(data)</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="function"><span class="title">error</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">                reject(err)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> url1=<span class="string">&#x27;/data1.json&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> url2=<span class="string">&#x27;/data2.json&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> url3=<span class="string">&#x27;/data3.json&#x27;</span>;</span><br><span class="line">getData(url1).then(<span class="function"><span class="params">data1</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data1);</span><br><span class="line">    <span class="keyword">return</span> getData(url2);</span><br><span class="line">&#125;).then(<span class="function"><span class="params">data2</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data2);</span><br><span class="line">    <span class="keyword">return</span> getData(url3);</span><br><span class="line">&#125;).then(<span class="function"><span class="params">data3</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data3);</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">err</span>=&gt;</span><span class="built_in">console</span>.error(err))<span class="comment">//不是嵌套形式，是平行的，虽然是callback形式，但是是管道式串联的</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>promise不是避免了回调，只是把回调变成了串联形式</p>
<h4 id="题目-1"><a href="#题目-1" class="headerlink" title="题目"></a>题目</h4><ul>
<li><p>同步和异步的区别是什么？</p>
<ul>
<li>基于JS是单线程语言，同步会阻塞代码执行，异步不会阻塞代码执行</li>
</ul>
</li>
<li><p>手写promise加载一张图片</p>
</li>
</ul>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> url=<span class="string">&#x27;https://img2.baidu.com/it/u=3355464299,584008140&amp;fm=26&amp;fmt=auto&amp;gp=0.jpg&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadImg</span>(<span class="params">src</span>)</span>&#123;</span><br><span class="line">   <span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>( 			<span class="comment">//promise要传入一个函数，函数有两个参数，分别是resolve和reject</span></span><br><span class="line">    	(resolve,reject)=&gt;&#123;</span><br><span class="line">            <span class="keyword">const</span> img = <span class="built_in">document</span>.createElement(<span class="string">&#x27;img&#x27;</span>);</span><br><span class="line">            img.onload=<span class="function">()=&gt;</span>&#123;</span><br><span class="line">                resolve(img);<span class="comment">//如果成功</span></span><br><span class="line">            &#125;</span><br><span class="line">            img.onerror=<span class="function">()=&gt;</span>&#123;</span><br><span class="line">                reject(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;图片加载失败 $&#123;src&#125;&#x27;</span>))<span class="comment">//如果失败</span></span><br><span class="line">            &#125;</span><br><span class="line">            img.src = src</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line">  <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">loadImg(url).then(<span class="function"><span class="params">img</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(img.width)</span><br><span class="line">    <span class="keyword">return</span> img</span><br><span class="line">&#125;).then(<span class="function"><span class="params">img</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(img.height)</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">ex</span>=&gt;</span><span class="built_in">console</span>.error(ex))</span><br><span class="line"></span><br><span class="line"><span class="comment">//如果把url改成不正确的地址，会报错：Error: 图片加载失败 $&#123;src&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//如果要先后加载两张图片</span></span><br><span class="line"><span class="keyword">const</span> url1 = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> url2 = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">loadImg(url1).then(<span class="function"><span class="params">img1</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(img1.width);</span><br><span class="line">    <span class="keyword">return</span> img1;	<span class="comment">//return一个普通对象，下一个then里面的普通函数会接收到</span></span><br><span class="line">&#125;).then(<span class="function"><span class="params">img1</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(img1.height);</span><br><span class="line">    <span class="keyword">return</span> loadImg(url2);  </span><br><span class="line">    <span class="comment">//return 一个promise实例，下一个then接受到的会是loadImg(url2)加载后返回的img2(resolve的img对象)</span></span><br><span class="line">&#125;).then(<span class="function"><span class="params">img2</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(img2.width);</span><br><span class="line">    <span class="keyword">return</span> img2;</span><br><span class="line">&#125;).then(<span class="function"><span class="params">img2</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(img2.height);</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">ex</span>=&gt;</span><span class="built_in">console</span>.log(ex))</span><br></pre></td></tr></table></figure>

<ul>
<li><p>前端异步的使用场景（等待的场景）</p>
<p>网络请求，如ajax图片加载</p>
<p>定时任务，如setTimeout</p>
<ul>
<li><p>setTimeout题：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">&#125;,<span class="number">1000</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">3</span>);</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">4</span>)</span><br><span class="line">&#125;,<span class="number">0</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">5</span>);</span><br><span class="line"><span class="comment">//1354  1</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>手写简单promise</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 模拟一个简单的异步行为 */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fetchData</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            resolve(<span class="string">&#x27;hi&#x27;</span>);</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fetchData().then(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// after 1000ms</span></span><br><span class="line">    <span class="built_in">console</span>.log(data); <span class="comment">// hi</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;hi2&#x27;</span>;</span><br><span class="line">&#125;, <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;&#125;).then(<span class="function">(<span class="params">data2</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data2); <span class="comment">// hi2</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<h2 id="异步进阶"><a href="#异步进阶" class="headerlink" title="异步进阶"></a>异步进阶</h2><ul>
<li>描述event-loop的机制，可画图</li>
<li>什么是宏任务和微任务，有什么区别</li>
<li>Promise有哪三种状态，如何变化</li>
</ul>
<h4 id="Event-loop"><a href="#Event-loop" class="headerlink" title="Event loop"></a>Event loop</h4><p>事件循环/事件轮询</p>
<p>JS是单线程运行的,异步是要基于回调来实现的，event loop是异步回调的实现原理</p>
<p>JS如何执行？从前到后一行行执行，如果某一行执行报错，就停止下面代码的执行；先执行同步代码，再执行异步</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;hi&#x27;</span>);</span><br><span class="line"><span class="function"><span class="title">setTimeout</span>(<span class="params"><span class="keyword">function</span> cb1()</span>)</span>&#123;</span><br><span class="line">           <span class="built_in">console</span>.log(<span class="string">&#x27;cb1&#x27;</span>);</span><br><span class="line">           &#125;,<span class="number">5000</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;bye&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>总结event loop过程</p>
<ul>
<li>同步代码，一行一行放在Call Stack执行</li>
<li>遇到异步，会先<strong>记录</strong>下，等待时机（定时器，网络请求等）</li>
<li>时机到了，就放到call back queue里面</li>
<li>若call stack为空（即同步代码执行完了），event loop开始工作</li>
<li>轮询查找call back queue，如果有，就移动到call stack执行</li>
<li> 然后继续轮训查找 </li>
</ul>
<p>Call Stack执行→web API处理异步→ Event loop当callstack为空的时候去Queue里找，找到后推进call stack里执行</p>
<h4 id="DOM事件与event-loop"><a href="#DOM事件与event-loop" class="headerlink" title="DOM事件与event loop"></a>DOM事件与event loop</h4><ul>
<li>js单线程</li>
<li>异步（setTimeout，ajax等）使用回调，基于event loop</li>
<li>DOM事件也使用回调，基于event loop</li>
<li>但DOM事件不是异步</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;hi&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> btn1=<span class="built_in">document</span>.getElementById(<span class="string">&#x27;btn1&#x27;</span>)</span><br><span class="line">btn1.onclick(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;clicked&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;bye&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//onclick在程序开始后打印完hi就立马执行了，点击后才会执行console.log的回调函数，未点击时会暂存在WebAPI里，什么时候点击了，什么时候放进callback queue，然后通过event loop到call stack里执行</span></span><br></pre></td></tr></table></figure>

<h4 id="Promise的三种状态"><a href="#Promise的三种状态" class="headerlink" title="Promise的三种状态"></a>Promise的三种状态</h4><p>pending resolved rejected</p>
<p>pending–&gt; resolved            pending –&gt;rejected</p>
<p>变化不可逆</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;p1&#x27;</span>,p1) <span class="comment">//pending</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p2 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        resolve()</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;p2&#x27;</span>,p2)	<span class="comment">//pending 一开始打印的时候</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span> <span class="built_in">console</span>.log(<span class="string">&#x27;p2-setTimeout&#x27;</span>,p2))<span class="comment">//resolved</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p3 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        resolve()</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;p3&#x27;</span>,p3)	<span class="comment">//pending 一开始打印的时候</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span> <span class="built_in">console</span>.log(<span class="string">&#x27;p3-setTimeout&#x27;</span>,p3))<span class="comment">//rejected</span></span><br><span class="line"><span class="comment">//从pending变化：执行了resolve/reject的函数</span></span><br></pre></td></tr></table></figure>

<p>状态的表现：</p>
<ul>
<li>pending状态，不会触发then和catch</li>
<li>resolved状态会触发then回调函数</li>
<li>rejected会触发catch回调函数</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p1 = <span class="built_in">Promise</span>.resolve(<span class="number">100</span>)<span class="comment">//resolved状态的promise</span></span><br><span class="line">p1.then(<span class="function"><span class="params">data</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;data&#x27;</span>,data)</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;err&#x27;</span>,err)</span><br><span class="line">&#125;)<span class="comment">//data 100</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p2 = <span class="built_in">Promise</span>.reject(<span class="string">&#x27;err&#x27;</span>) <span class="comment">//rejected状态的promise</span></span><br><span class="line">p2.then(<span class="function"><span class="params">data</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;data2&#x27;</span>,data)</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;err2&#x27;</span>,err)</span><br><span class="line">&#125;)<span class="comment">//err2 err</span></span><br></pre></td></tr></table></figure>

<p><strong>then和catch改变状态</strong></p>
<p>then正常返回resolved，里面有报错则返回rejected</p>
<p>catch正常返回resolved，里面有报错则返回rejected</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p3 = <span class="built_in">Promise</span>.reject(<span class="string">&#x27;my error&#x27;</span>).catch(<span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.error(err)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;p3&#x27;</span>,p3)<span class="comment">//resolved状态，之后会触发then回调</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p4 = <span class="built_in">Promise</span>.reject(<span class="string">&#x27;my error&#x27;</span>).catch(<span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;catch err&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;p4&#x27;</span>,p4)<span class="comment">//rejected状态，之后会触发catch回调</span></span><br></pre></td></tr></table></figure>

<p><strong>题目</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.resolve().then(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">&#125;).catch(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">&#125;).then(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">&#125;)<span class="comment">//1, 3</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.resolve().then(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;err1&#x27;</span>)		<span class="comment">//rejected状态，执行catch</span></span><br><span class="line">&#125;).catch(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">&#125;).then(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">&#125;)<span class="comment">//1， 2， 3</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.resolve().then(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;err2&#x27;</span>)		<span class="comment">//rejected状态，执行catch</span></span><br><span class="line">&#125;).catch(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">&#125;).catch(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">&#125;)<span class="comment">//1.  2</span></span><br></pre></td></tr></table></figure>

<h4 id="async-await"><a href="#async-await" class="headerlink" title="async/await"></a>async/await</h4><ul>
<li>异步回调 callback hell</li>
<li>Promise then catch 链式调用，但也是基于回调函数的</li>
<li>async/await是同步语法，彻底消灭回调函数</li>
</ul>
<p><strong>async/await和promise的关系</strong></p>
<ul>
<li>执行async函数，返回的是Promise对象</li>
<li>await相当于Promise的then</li>
<li>try…catch可以捕获异常，代替了promise的catch</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">100</span>;		<span class="comment">//相当于返回Promise.resolve(100)</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> res1 = fn1();	<span class="comment">//执行async函数，返回的是一个promise对象</span></span><br><span class="line"><span class="comment">//如果返回的是值，就封装成一个promise对象返回，如果返回的是promise，就直接返回promise对象</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;res1&#x27;</span>,res1); <span class="comment">// Promise对象，resolved状态</span></span><br><span class="line">res1.then(<span class="function"><span class="params">data</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;data&#x27;</span>,data);<span class="comment">//data 100</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">(<span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> p1 = <span class="built_in">Promise</span>.resolve(<span class="number">200</span>);</span><br><span class="line">    <span class="keyword">const</span> data = <span class="keyword">await</span> p1; <span class="comment">//await 相当于then</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;data&#x27;</span>,data)	<span class="comment">//data 200</span></span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line">(<span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> data1 = <span class="keyword">await</span> <span class="number">300</span>; <span class="comment">//await Promise.resolve(300)，会自动封装</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;data1&#x27;</span>,data)	<span class="comment">//data1 300</span></span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line">(<span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> data2 = <span class="keyword">await</span> fn1(); <span class="comment">//await 相当于调用Promise对象，跟第一种没有区别</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;data2&#x27;</span>,data2)	<span class="comment">//data2 100</span></span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">(<span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> p4 = <span class="built_in">Promise</span>.reject(<span class="string">&#x27;err&#x27;</span>); <span class="comment">//rejected状态</span></span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        <span class="keyword">const</span> res = <span class="keyword">await</span> p4;</span><br><span class="line">        <span class="built_in">console</span>.log(res)</span><br><span class="line">    &#125;<span class="function"><span class="title">catch</span>(<span class="params">ex</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.error(<span class="string">&#x27;ex&#x27;</span>);<span class="comment">//try...catch相当于promise的catch</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>async-await是语法糖，异步的本质还是回调函数</strong></p>
<p>async/await消灭异步回调，但js还是单线程，还是有异步，依然基于event loop</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async1</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;async1 start&#x27;</span>)		<span class="comment">//2</span></span><br><span class="line">  <span class="keyword">await</span> async2()</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;async1 end&#x27;</span>) 		<span class="comment">//5</span></span><br><span class="line">    <span class="comment">// 关键在这一步，它相当于放在 callback 中，最后执行。await后面的东西都可以看做callback的内容，也就是异步</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async2</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;async2&#x27;</span>)		<span class="comment">//3</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;script start&#x27;</span>)		<span class="comment">//1</span></span><br><span class="line">async1()</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;script end&#x27;</span>)		<span class="comment">//4		同步代码在这里已经执行完成</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line">(<span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> a=fn()<span class="comment">//Promise</span></span><br><span class="line">    <span class="keyword">const</span> b=<span class="keyword">await</span> fn()<span class="comment">//100</span></span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;start&#x27;</span>)	<span class="comment">//start</span></span><br><span class="line">    <span class="keyword">const</span> a = <span class="keyword">await</span> <span class="number">100</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span>,a)	<span class="comment">//a 100</span></span><br><span class="line">	<span class="keyword">const</span> b = <span class="keyword">await</span> <span class="built_in">Promise</span>.resolve(<span class="number">200</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;b&#x27;</span>,b)	<span class="comment">//b 200</span></span><br><span class="line">    <span class="keyword">const</span> c = <span class="keyword">await</span> <span class="built_in">Promise</span>.reject(<span class="number">300</span>)		<span class="comment">//报错</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;c&#x27;</span>,c)		<span class="comment">//不执行</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;end&#x27;</span>)		<span class="comment">//不执行</span></span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure>



<h4 id="for…of"><a href="#for…of" class="headerlink" title="for…of"></a>for…of</h4><ul>
<li>for…in 和 forEach for是常规的同步遍历</li>
<li>for…of常用于异步遍历</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定时算乘法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">multi</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            resolve(num * num)</span><br><span class="line">        &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;) </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// // 使用 forEach ，是 1s 之后打印出所有结果，即 3 个值是一起被计算出来的</span></span><br><span class="line"><span class="comment">// function test1 () &#123;</span></span><br><span class="line"><span class="comment">//     const nums = [1, 2, 3];</span></span><br><span class="line"><span class="comment">//     nums.forEach(async x =&gt; &#123;</span></span><br><span class="line"><span class="comment">//         const res = await multi(x);</span></span><br><span class="line"><span class="comment">//         console.log(res);</span></span><br><span class="line"><span class="comment">//     &#125;)</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// test1();</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 for...of ，可以让计算挨个串行执行</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">test2</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> nums = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> x <span class="keyword">of</span> nums) &#123;	<span class="comment">//有顺序</span></span><br><span class="line">        <span class="comment">// 在 for...of 循环体的内部，遇到 await 会挨个串行计算</span></span><br><span class="line">        <span class="keyword">const</span> res = <span class="keyword">await</span> multi(x)</span><br><span class="line">        <span class="built_in">console</span>.log(res)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">test2()</span><br></pre></td></tr></table></figure>

<h4 id="宏任务与微任务"><a href="#宏任务与微任务" class="headerlink" title="宏任务与微任务"></a>宏任务与微任务</h4><p>macroTask：setTimeout, setInterval, Ajax, DOM事件</p>
<p>microTask:  Promise async/await</p>
<p>微任务执行时机比宏任务要早</p>
<p><strong>event loop和DOM渲染</strong></p>
<p>JS是单线程的，且和DOM渲染共用一个线程，当JS执行的时候，要留给DOM渲染一些时机</p>
<ol>
<li>call stack 空闲，每次call stack轮训结束</li>
<li>尝试DOM渲染（不一定非得渲染，就是给一次 DOM 渲染的机会）</li>
<li>触发event loop</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> $p1 = $(<span class="string">&#x27;&lt;p&gt;一段文字&lt;/p&gt;&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> $p2 = $(<span class="string">&#x27;&lt;p&gt;一段文字&lt;/p&gt;&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> $p3 = $(<span class="string">&#x27;&lt;p&gt;一段文字&lt;/p&gt;&#x27;</span>)</span><br><span class="line">$(<span class="string">&#x27;#container&#x27;</span>)</span><br><span class="line">            .append($p1)</span><br><span class="line">            .append($p2)</span><br><span class="line">            .append($p3)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;length&#x27;</span>,  $(<span class="string">&#x27;#container&#x27;</span>).children().length )</span><br><span class="line">alert(<span class="string">&#x27;本次 call stack 结束，DOM 结构已更新，但尚未触发渲染&#x27;</span>)</span><br><span class="line"><span class="comment">// （alert 会阻断 js 执行，也会阻断 DOM 渲染，便于查看效果）</span></span><br><span class="line"><span class="comment">// 到此，即本次 call stack 结束后（同步任务都执行完了），浏览器会自动触发渲染，不用代码干预</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 另外，按照 event loop 触发 DOM 渲染时机，setTimeout 时 alert ，就能看到 DOM 渲染后的结果了</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">&#x27;setTimeout 是在下一次 Call Stack ，就能看到 DOM 渲染出来的结果了&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>宏任务：DOM 渲染后再触发</li>
<li>微任务：DOM 渲染前会触发</li>
</ul>
<p>执行Promise在等待时机时，放在micro task queue里，而不是callback queue里，而且不会经过WebAPI, 因为Promise是ES规范，不是W3C规范</p>
<ul>
<li><p>宏任务：浏览器规定的</p>
</li>
<li><p>微任务：ES6语法规定的</p>
</li>
<li><p>微任务：ES 语法标准之内，JS 引擎来统一处理。即，不用浏览器有任何关于，即可一次性处理完，更快更及时。</p>
</li>
<li><p>宏任务：ES 语法没有，JS 引擎不处理，浏览器（或 nodejs）干预处理。、</p>
</li>
</ul>
<p><img src="https://res.cloudinary.com/drx6hbrzu/image/upload/v1621781359/VX_OV51JHY7_C_0YH37CBSO_fdecs5.png"></p>
<p>promise和setTimeout执行顺序的问题</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="built_in">console</span>.log(<span class="number">1</span>)&#125;,<span class="number">0</span>);</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">    <span class="function"><span class="title">for</span>(<span class="params"> <span class="keyword">var</span> i=<span class="number">0</span> ; i&lt;<span class="number">10000</span> ; i++ </span>)</span>&#123;</span><br><span class="line">        i==<span class="number">9999</span> &amp;&amp; resolve()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">4</span>)</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">5</span>);</span><br><span class="line"><span class="comment">//2,3,5,4,1</span></span><br></pre></td></tr></table></figure>

<p>Javascript是单线程的，所有的同步任务都会在主线程中执行。</p>
<p>当主线程中的任务，都执行完之后，系统会 “依次” 读取任务队列里的事件。与之相对应的异步任务进入主线程，开始执行。</p>
<p>异步任务之间，会存在差异，所以它们执行的优先级也会有区别。大致分为 <strong>微任务</strong>（micro task，如：Promise、MutaionObserver等）和<strong>宏任务</strong>（macro task，如：setTimeout、setInterval、I/O等）。</p>
<p>Promise 执行器中的代码会被同步调用，但是<strong>回调</strong>是基于<strong>微任务</strong>的。</p>
<p>宏任务的优先级高于微任务</p>
<p>每一个宏任务执行完毕都必须将当前的微任务队列清空</p>
<p>第一个 script 标签的代码是第一个宏任务</p>
<p>主线程会不断重复上面的步骤，直到执行完所有任务。</p>
<p>所有的代码都写在script标签中，所以<strong>读取所有代码是第一个宏任务</strong>，我们开始执行第一个宏任务。</p>
<p>我们首先遇到<strong>setTimeout</strong>，他是<strong>第二个宏任务</strong>，将它扔进宏任务事件队列里先排队。</p>
<p>下来我们遇到<strong>promise</strong>，promise执行器里的代码会被<strong>同步调用</strong>，所以我们依次打印出2和3。</p>
<p>下来遇到<strong>promise的回调</strong>，他是一个微任务，将它扔进<strong>微任务事件队列</strong>中。</p>
<p>下来我们接着打印出5，然后<strong>执行微任务</strong>并且打印出4.</p>
<p>我们<strong>第一个宏任务执行完毕</strong>，执行<strong>下一个宏任务</strong>，打印出1，到此，所有任务都执行完毕。</p>
<p>所以我们最后的结果为2 3 5 4 1。</p>
<h4 id="定时器"><a href="#定时器" class="headerlink" title="定时器"></a>定时器</h4><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/55b4eb04b1d3">关于JS定时器（setTimeout / setInterval）定时不准问题及解决方案</a></p>
<ul>
<li><p>浏览器中的所有JavaScript都在单线程上执行，所以异步事件（比如鼠标点击和定时器）仅在线程空闲时才会被调度运行。</p>
</li>
<li><p>为了控制要执行的代码， JavaScript 配置了一个任务队列，这些异步事件任务会按照将它们添加到队列的顺序执行。</p>
</li>
<li><p>而setTimeout() 的第二个参数（延时时间）只是告诉 JavaScript 再过多长时间把当前任务添加到队列中。如果队列是空的，那么添加的代码会立即执行；如果队列不是空的，那么它就要等前面的代码执行完了以后再执行。</p>
</li>
</ul>
<h2 id="解构赋值"><a href="#解构赋值" class="headerlink" title="解构赋值"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment">解构赋值</a></h2><p><strong>解构赋值</strong>语法是一种 Javascript 表达式。通过<strong>解构赋值,</strong> 可以将属性/值从对象/数组中取出,赋值给其他变量。</p>
<h2 id="数组扁平化"><a href="#数组扁平化" class="headerlink" title="数组扁平化"></a>数组扁平化</h2><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/guan-shan/p/10165737.html">6种方法</a></p>
<h2 id="数组去重"><a href="#数组去重" class="headerlink" title="数组去重"></a>数组去重</h2><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/myprogramer/p/12107575.html">5种方法</a></p>
<h2 id="JS实现字符串翻转"><a href="#JS实现字符串翻转" class="headerlink" title="JS实现字符串翻转"></a>JS实现字符串翻转</h2><ol>
<li><p>字符串的完全翻转</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&quot;I feel good today&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> resultStr = name.split(<span class="string">&#x27;&#x27;</span>).reverse().join(<span class="string">&#x27;&#x27;</span>); </span><br><span class="line"><span class="built_in">console</span>.log(resultStr);  <span class="comment">//yadot doog leef I</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&quot;I feel good today&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> nameArr = name.split(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> resultStr = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = nameArr.length-<span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">    resultStr += name.charAt(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(resultStr); <span class="comment">// yadot doog leef I</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>翻转字符串中单词顺序,但单词字母顺序不变</p>
</li>
</ol>
<h2 id="JS-WEB-API-DOM"><a href="#JS-WEB-API-DOM" class="headerlink" title="JS-WEB-API-DOM"></a>JS-WEB-API-DOM</h2><ul>
<li>JS 基础知识，规定语法（ECMA262标准）</li>
<li>JS Web API，网页操作的API（W3C标准）</li>
</ul>
<p><strong>DOM是什么</strong></p>
<ul>
<li>vue和React框架应用广泛，封装了DOM操作</li>
<li>但DOM操作是基础</li>
</ul>
<p>Document Object Model</p>
<h4 id="DOM节点操作"><a href="#DOM节点操作" class="headerlink" title="DOM节点操作"></a>DOM节点操作</h4><ul>
<li>获取DOM节点</li>
<li>attribute</li>
<li>property</li>
</ul>
<h2 id="JS-WEB-API-事件"><a href="#JS-WEB-API-事件" class="headerlink" title="JS-WEB-API-事件"></a>JS-WEB-API-事件</h2><h3 id="事件绑定"><a href="#事件绑定" class="headerlink" title="事件绑定"></a><strong>事件绑定</strong></h3><h3 id="事件循环"><a href="#事件循环" class="headerlink" title="事件循环"></a>事件循环</h3><p>任务队列中，在每一次事件循环中，macrotask 只会提取一个执行，而 microtask 会一直提取，直到 microsoft 队列为空为止。</p>
<p>也就是说如果某个 microtask 任务被推入到执行中，那么当主线程任务执行完成后，会循环调用该队列任务中的下一个任务来执行，直到该任务队列到最后一个任务为止。</p>
<p>而事件循环每次只会入栈一个 macrotask，主线程执行完成该任务后又会检查 microtasks 队列并完成里面的所有任务后再执行 macrotask 的任务。</p>
<ul>
<li>macrotasks: setTimeout, setInterval, setImmediate, I/O, UI rendering</li>
<li>microtasks: process.nextTick, Promise, MutationObserver</li>
</ul>
<h3 id="事件委托"><a href="#事件委托" class="headerlink" title="事件委托"></a>事件委托</h3><p>不在事件的发生地（直接 dom）上设置监听函数，而是在其父元素上设置监听函数，通过<strong>事件冒泡</strong>，父元素可以监听到子元素上事件的触发，通过判断事件发生元素 DOM 的类型，来做出不同的响应。</p>
<h3 id="事件监听"><a href="#事件监听" class="headerlink" title="事件监听"></a>事件监听</h3><p><code>Element.addEventListener(event, func, useCapture)</code></p>
<p>第一个参数是事件的类型(如 “click” 或 “mousedown”).</p>
<p>第二个参数是事件触发后调用的函数。</p>
<p>第三个参数是个布尔值用于描述事件是冒泡还是捕获。该参数是可选的。</p>
<p>事件传递有两种方式，冒泡和捕获</p>
<p>事件传递定义了元素事件触发的顺序，如果你将 P 元素插入到 div 元素中，用户点击 P 元素，</p>
<p>在冒泡中，内部元素先被触发，然后再触发外部元素，</p>
<p>捕获中，外部元素先被触发，在触发内部元素.</p>
<hr>
<h1 id="COMPUTER-NETWORK"><a href="#COMPUTER-NETWORK" class="headerlink" title="COMPUTER NETWORK"></a>COMPUTER NETWORK</h1><h2 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h2><h3 id="HTTP和HTTPS的基本概念"><a href="#HTTP和HTTPS的基本概念" class="headerlink" title="HTTP和HTTPS的基本概念"></a>HTTP和HTTPS的基本概念</h3><p>　　HTTP：是互联网上应用最为广泛的一种网络协议，是一个客户端和服务器端请求和应答的标准（TCP），用于从WWW服务器传输超文本到本地浏览器的传输协议，它可以使浏览器更加高效，使网络传输减少。</p>
<p>　　HTTPS：是以安全为目标的HTTP通道，简单讲是HTTP的安全版，即HTTP下加入SSL（Secure Sockets Layer）层，HTTPS的安全基础是SSL，因此加密的详细内容就需要SSL。</p>
<p>　客户端在使用HTTPS方式与Web服务器通信时有以下几个步骤</p>
<ul>
<li>客户使用https的URL访问Web服务器，要求与Web服务器建立SSL连接。</li>
<li>Web服务器收到客户端请求后，会将网站的证书信息（证书中包含公钥）传送一份给客户端。</li>
<li>客户端的浏览器与Web服务器开始协商SSL连接的安全等级，也就是信息加密的等级。</li>
<li>客户端的浏览器根据双方同意的安全等级，建立会话密钥，然后利用网站的公钥将会话密钥加密，并传送给网站。</li>
<li>Web服务器利用自己的私钥解密出会话密钥。</li>
<li>Web服务器利用会话密钥加密与客户端之间的通信。</li>
</ul>
<p><strong>HTTP请求头和响应头</strong></p>
<p>HTTP 请求报文由3部分组成(请求行+请求头+请求体)</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/glpghz/article/details/106063833">HTTP1.0,2.0,3.0 HTTPS</a></p>
<p><strong>HTTP2的多路复用</strong></p>
<p>在 HTTP/1 中，每次请求都会建立一次HTTP连接，也就是我们常说的3次握手4次挥手，这个过程在一次请求过程中占用了相当长的时间，即使开启了 Keep-Alive ，解决了多次连接的问题，但是依然有两个效率上的问题：</p>
<ul>
<li>第一个：串行的文件传输。当请求a文件时，b文件只能等待，等待a连接到服务器、服务器处理文件、服务器返回文件，这三个步骤。我们假设这三步用时都是1秒，那么a文件用时为3秒，b文件传输完成用时为6秒，依此类推。（注：此项计算有一个前提条件，就是浏览器和服务器是单通道传输）</li>
<li>第二个：连接数过多。我们假设Apache设置了最大并发数为300，因为浏览器限制，浏览器发起的最大请求数为6，也就是服务器能承载的最高并发为50，当第51个人访问时，就需要等待前面某个请求处理完成。</li>
</ul>
<p>HTTP/2的多路复用就是为了解决上述的两个性能问题。<br>在 HTTP/2 中，有两个非常重要的概念，分别是帧（frame）和流（stream）。<br>帧代表着最小的数据单位，每个帧会标识出该帧属于哪个流，流也就是多个帧组成的数据流。<br>多路复用，就是在一个 TCP 连接中可以存在多条流。换句话说，也就是可以发送多个请求，对端可以通过帧中的标识知道属于哪个请求。通过这个技术，可以避免 HTTP 旧版本中的队头阻塞问题，极大的提高传输性能。</p>
<ul>
<li>基于 https，安全性更有保证</li>
<li>使用二进制格式，比以前基于文本的传输更具普适性</li>
<li>多路复用，是以前长连接的增强</li>
</ul>
<h3 id="DNS"><a href="#DNS" class="headerlink" title="DNS"></a>DNS</h3><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/yrx420909/article/details/102835945">DNS 域名解析</a></p>
<p>当一个用户在地址栏输入<a href="http://www.baidu.com时，DNS解析有大致十个过程，如下：">www.baidu.com时，DNS解析有大致十个过程，如下：</a></p>
<ol>
<li><p>浏览器先检查<strong>自身缓存</strong>中有没有被解析过的这个域名对应的ip地址，如果有，解析结束。同时域名被缓存的时间也可通过<strong>TTL属性</strong>来设置。</p>
</li>
<li><p>如果浏览器缓存中没有（专业点叫还没命中），浏览器会检查操作系统缓存中有没有对应的已解析过的结果。而操作系统也有一个域名解析的过程。在windows中可通过c盘里一个叫hosts的文件来设置，如果你在这里指定了一个域名对应的ip地址，那浏览器会首先使用这个ip地址。</p>
</li>
<li><p>如果至此还没有命中域名，才会真正的请求<strong>本地域名服务器（LDNS）</strong>来解析这个域名，这台服务器一般在你的城市的某个角落，距离你不会很远，并且这台服务器的性能都很好，一般都会缓存域名解析结果，大约80%的域名解析到这里就完成了。</p>
</li>
<li><p>如果LDNS仍然没有命中，就直接跳到Root Server <strong>域名服务器</strong>请求解析</p>
</li>
<li><p><strong>根域名服务器</strong>返回给LDNS一个所查询域的<strong>主域名服务器</strong>（gTLD Server，国际顶尖域名服务器，如.com .cn .org等）<strong>地址</strong></p>
</li>
<li><p>此时LDNS再发送请求给上一步返回的gTLD</p>
</li>
<li><p>接受请求的gTLD查找并返回<strong>这个域名对应的Name Server的地址</strong>，这个Name Server就是网站注册的域名服务器</p>
</li>
<li><p>Name Server根据映射关系表找到<strong>目标ip</strong>，返回给LDNS</p>
</li>
<li><p>LDNS缓存这个域名和对应的ip</p>
</li>
<li><p>LDNS把解析的结果返回给用户，用户根据TTL值缓存到本地系统缓存中，域名解析过程至此结束</p>
</li>
</ol>
<h3 id="UDP-amp-TCP"><a href="#UDP-amp-TCP" class="headerlink" title="UDP&amp;TCP"></a>UDP&amp;TCP</h3><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/greentealc/article/details/79880220">TCP+UDP</a></p>
<p>TCP/IP 中有两个具有代表性的传输层协议，分别是 TCP 和 UDP（传输层）</p>
<p>UDP协议全称是用户数据报协议，在网络中它与TCP协议一样用于处理数据包，是一种无连接的协议。在OSI模型中，在第四层——传输层，处于IP协议的上一层。UDP有不提供数据包分组、组装和不能对数据包进行排序的缺点，也就是说，当报文发送之后，是无法得知其是否安全完整到达的。</p>
<p>当一台计算机想要与另一台计算机通讯时，两台计算机之间的通信需要畅通且可靠，这样才能保证正确收发数据。例如，当你想查看网页或查看电子邮件时，希望完整且按顺序查看网页，而不丢失任何内容。当你下载文件时，希望获得的是完整的文件，而不仅仅是文件的一部分，因为如果数据丢失或乱序，都不是你希望得到的结果，于是就用到了TCP。</p>
<p>TCP协议全称是传输控制协议是一种面向连接的、可靠的、基于字节流的传输层通信协议，由 IETF 的RFC 793定义。TCP 是面向连接的、可靠的流协议。流就是指不间断的数据结构，你可以把它想象成排水管中的水流。</p>
<p><strong>三次握手：</strong> 作用是为了确认双方的接收与发送能力是否正常。</p>
<ul>
<li><p>第一次握手（客户端给服务器发送一个 SYN 报文）：客户端发送网络包，服务端收到了。这样服务端就能得出结论：客户端的发送能力、服务端的接收能力是正常的。</p>
</li>
<li><p>第二次握手（服务器收到 SYN 报文之后，会应答一个 SYN+ACK 报文）：服务端发包，客户端收到了。这样客户端就能得出结论：服务端的接收、发送能力，客户端的接收、发送能力是正常的。不过此时服务器并不能确认客户端的接收能力是否正常。</p>
</li>
<li><p>第三次握手（客户端收到 SYN+ACK 报文之后，会回应一个 ACK 报文）：客户端发包，服务端收到了。这样服务端就能得出结论：客户端的接收、发送能力正常，服务器自己的发送、接收能力也正常</p>
</li>
</ul>
<h3 id="状态码"><a href="#状态码" class="headerlink" title="状态码"></a>状态码</h3><p>1：消息，临时响应，代表请求已被接受，需要继续处理</p>
<p>2：成功，代表请求已成功被服务器接收、理解、并接受。</p>
<p>3：重定向，后续的请求地址（重定向目标）在本次响应的 Location 域中指明。</p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/HTTP_301">301 Moved Permanently</a></p>
<p>被请求的资源已<strong>永久移动</strong>到新位置，并且将来任何对此资源的引用都应该使用本响应返回的若干个 URI 之一。</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/HTTP_302">302 Found</a></p>
<p>要求客户端执行<strong>临时重定向</strong>（原始描述短语为“Moved Temporarily”）</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/HTTP_303">303 See Other</a></p>
<p>对应当前请求的响应可以在另一个 URI 上被找到</p>
</li>
<li><p><strong>304 Not Modified</strong></p>
<p>未修改。所请求的资源未修改，服务器返回此状态码时，不会返回任何资源。</p>
<p>表示资源在由请求头中的<code>If-Modified-Since</code>或<code>If-None-Match</code>参数指定的这一版本之后，未曾被修改。在这种情况下，由于客户端仍然具有以前下载的副本，因此不需要重新传输资源。</p>
<p>注：与协商缓存有关</p>
</li>
<li><p>305 Use Proxy</p>
<p>被请求的资源必须通过指定的<strong>代理</strong>才能被访问。Location 域中将给出指定的代理所在的 URI 信息，接收者需要重复发送一个单独的请求，通过这个代理才能访问相应资源。</p>
</li>
</ul>
<p>4：客户端错误</p>
<ul>
<li>400 Bad Request</li>
</ul>
<p>由于明显的客户端错误（例如，格式错误的请求语法，太大的大小，无效的请求消息或欺骗性路由请求），服务器不能或不会处理该请求。</p>
<ul>
<li>401 Unauthorized</li>
</ul>
<p>未认证，类似于 403 Forbidden</p>
<ul>
<li><strong>404 Not Found</strong></li>
<li><strong>405 Method Not Allowed</strong></li>
<li><strong>418 I’m a teapot</strong></li>
</ul>
<p>5：服务器错误</p>
<ul>
<li>500 Internal Server Error</li>
</ul>
<p>通用错误消息，服务器遇到了一个未曾预料的状况，导致了它无法完成对请求的处理。没有给出具体错误信息。</p>
<ul>
<li>502 Bad Gateway</li>
</ul>
<p>作为<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%BD%91%E5%85%B3">网关</a>或者<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E5%99%A8">代理</a>工作的服务器尝试执行请求时，从上游服务器接收到无效的响应。</p>
<ul>
<li><p>503 Service Unavailable</p>
<p>由于临时的服务器维护或者<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E9%81%8E%E8%BC%89">过载</a>，服务器当前无法处理请求。这个状况是暂时的，并且将在一段时间以后恢复。</p>
</li>
<li><p>504 Gateway Timeout</p>
<p>作为网关或者代理工作的服务器尝试执行请求时，未能及时从上游服务器（URI 标识出的服务器，例如<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/HTTP">HTTP</a>、<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/FTP">FTP</a>、<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/LDAP">LDAP</a>）或者辅助服务器（例如<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/DNS">DNS</a>）收到响应。</p>
</li>
</ul>
<h3 id="请求类型"><a href="#请求类型" class="headerlink" title="请求类型"></a>请求类型</h3><ul>
<li>get：请求资源，可以使用缓存</li>
<li>Post：提交数据，POST 产生两个 TCP 数据包，浏览器先发送 header，服务器响应 100 continue，浏览器再发送 data，服务器响应 200 ok（返回数据），不能使用缓存</li>
<li>Put：更新资源</li>
<li>Delete：删除资源</li>
<li>Options：返回某资源所支持的 HTTP 请求方法</li>
<li>Trace：回显服务器收到的请求，主要用于测试或诊断</li>
<li>Connect：HTTP/1.1 协议中预留给能够将连接改为管道方式的代理服务器</li>
</ul>
<h3 id="缓存机制"><a href="#缓存机制" class="headerlink" title="缓存机制"></a>缓存机制</h3><p><a target="_blank" rel="noopener" href="https://www.imooc.com/article/details/id/22841"><strong>http缓存优先级问题</strong></a></p>
<p><strong>强缓存</strong></p>
<p>只要请求了一次，在有效时间内，不会再请求服务器（请求都不会发起），直接从浏览器本地缓存中获取资源。</p>
<p>Cache-Control 的值：</p>
<p>max-age： 缓存最大过期时间<br>no-cache：不适用强制缓存，正常想服务端发送请求<br>no-store：不用本地的强制缓存，也不用服务端作缓存（不常用）<br>private：只允许最终用户作缓存<br>public：允许中间路由缓存</p>
<p><strong>协商缓存（对比缓存）</strong></p>
<p>无论是否变化，是否过期都会发起请求，如果内容没过期，直接返回304，从浏览器缓存中拉取文件，否则直接返回更新后的内容。</p>
<p>服务端缓存策略<br>服务器判断客户端资源，是否和服务端资源一样<br>已知返回 304，否则返回 200 和最新资源</p>
<h3 id="计算机网络模型"><a href="#计算机网络模型" class="headerlink" title="计算机网络模型"></a>计算机网络模型</h3><p><strong>应用层</strong></p>
<ul>
<li>为用户提供服务，给用户一个操作界面</li>
</ul>
<p><strong>表示层</strong></p>
<ul>
<li>数据提供表示：计算机只能识别0101这种二进制数据，把我们输入、点击的之类的指令翻译成二进制，又把执行后的结果返回。</li>
<li>加密</li>
<li>压缩</li>
</ul>
<p><strong>会话层</strong></p>
<ul>
<li>确定数据是否需要进行网络传输<ul>
<li>如果需要，交给下一层：传输层</li>
<li>如果不需要，比如只是保存到文档等</li>
</ul>
</li>
</ul>
<p><strong>传输层</strong></p>
<ul>
<li><p>对报文进行分组（发送时）、组装（接收时）</p>
</li>
<li><p>提供传输协议的选择</p>
<p>：</p>
<ul>
<li>TCP(传输控制协议)：可靠的，面向连接的传输协议——(可靠、准确的)(慢)</li>
<li>UDP(用户数据报协议)：不可靠的，面向无连接的传输协议——(不可靠)(快)</li>
</ul>
</li>
<li><p>端口封装</p>
<ul>
<li>源端口</li>
<li>目标端口</li>
</ul>
</li>
<li><p>差错校验</p>
</li>
</ul>
<p><strong>网络层</strong></p>
<p>IP协议，用来确认IP地址的；ARP RARP：地址解析协议，反向地址解析协议</p>
<p>典型设备：路由器</p>
<ul>
<li>IP地址编址<ul>
<li>源IP</li>
<li>目标IP</li>
</ul>
</li>
<li>路由选择<ul>
<li>静态路由<ul>
<li>提前写好的规则，会比较麻烦</li>
</ul>
</li>
<li>动态路由<ul>
<li>自动选择，可能会选择最短路径，但是带宽可能不是最好的</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>数据链路层</strong></p>
<p>典型设备：交换机（switch）</p>
<ul>
<li>MAC地址编址</li>
<li>MAC地址寻址<ul>
<li>MAC地址和IP找到是哪台电脑</li>
<li>通过PORT查找到对应的服务（一台电脑会有多个服务）</li>
</ul>
</li>
<li>差错校验<ul>
<li>差错校验一般都是采用传输层的差错校验</li>
</ul>
</li>
</ul>
<p><strong>物理层</strong></p>
<p>典型设备：网线</p>
<ul>
<li>数据实际传输</li>
</ul>
<h2 id="浏览器"><a href="#浏览器" class="headerlink" title="浏览器"></a>浏览器</h2><h3 id="从输入URL到页面加载完成"><a href="#从输入URL到页面加载完成" class="headerlink" title="从输入URL到页面加载完成"></a><a target="_blank" rel="noopener" href="https://www.cnblogs.com/liutianzeng/p/10456865.html">从输入URL到页面加载完成</a></h3><p>　　1、浏览器的地址栏输入URL并按下回车。</p>
<p>　　2、浏览器查找当前URL是否存在缓存，并比较缓存是否过期。</p>
<p>　　3、DNS解析URL对应的IP。</p>
<p>　　4、根据IP建立TCP连接（三次握手）。</p>
<p>　　5、HTTP发起请求。</p>
<p>　　6、服务器处理请求，浏览器接收HTTP响应。</p>
<p>　　7、渲染页面，构建DOM树。</p>
<p>　　8、关闭TCP连接（四次挥手）。</p>
<p>页面加载时，大致可以分为以下几个步骤：</p>
<ol>
<li>　　开始解析HTML文档结构</li>
<li>　　加载外部样式表及JavaScript脚本</li>
<li>　　解析执行JavaScript脚本</li>
<li>　　DOM树渲染完成</li>
<li>　　加载未完成的外部资源（如 图片）</li>
<li>页面加载成功</li>
</ol>
<h3 id="浏览器存储方式：Cookie、SessionStorage、LocalStorage"><a href="#浏览器存储方式：Cookie、SessionStorage、LocalStorage" class="headerlink" title="浏览器存储方式：Cookie、SessionStorage、LocalStorage"></a>浏览器存储方式：Cookie、SessionStorage、LocalStorage</h3><p>共同点：都是存储在浏览器端</p>
<p>不同点：</p>
<ul>
<li><p>cookie 可以在浏览器和服务器中来回传递的，而余下两者是只在本地保存的。</p>
</li>
<li><p>可存储数据的大小不一样，cookie 数据不能超过 4k，剩下的就比较大了，大概是在 5M 左右。</p>
</li>
<li><p>数据有效期不一样，sessionStorage 当关闭浏览器的时候就失效了，localStorage 一直有效，需要手动清</p>
<p>除，而 cookie 只在有效期之内一直有效。</p>
</li>
<li><p>作用域不一样，localStorage、cookie 在所有同源窗口中都是共享的，sessionStorage 是某个窗口私有</p>
<p>的。</p>
</li>
</ul>
<p><strong>使用场景</strong></p>
<ul>
<li>localStorage 可以用来统计页面访问次数。适合长期保存在本地的数据。</li>
<li>sessionStorage 可以用来统计当前页面元素的点击次数。敏感账号的一次性登陆。</li>
<li>cookie 一般存储用户名密码相关信息，一般使用 escape 转义编码后存储。</li>
</ul>
<p>Cookie和Session：</p>
<table>
<thead>
<tr>
<th><strong>session</strong></th>
<th><strong>cookie</strong></th>
</tr>
</thead>
<tbody><tr>
<td>在 <strong>服务器</strong> 端保存用户信息</td>
<td>在 <strong>客户端</strong> 保存用户信息</td>
</tr>
<tr>
<td>session 中保存的是 <strong>Object</strong> 类型</td>
<td>cookie 中保存的是 <strong>String</strong> 类型</td>
</tr>
<tr>
<td>随会话的结束而将其存储的数据 <strong>销毁</strong></td>
<td>cookie 可以 <strong>长期</strong> 保存在客户端</td>
</tr>
</tbody></table>
<h3 id="浏览器环境概述"><a href="#浏览器环境概述" class="headerlink" title="浏览器环境概述"></a><a target="_blank" rel="noopener" href="https://wangdoc.com/javascript/bom/engine.html">浏览器环境概述</a></h3><ol>
<li><p>代码嵌入网页的方法</p>
<ol>
<li><code>&lt;script&gt;</code>元素直接嵌入代码。</li>
<li><code>&lt;script&gt;</code>标签加载外部脚本</li>
<li>事件属性</li>
<li>URL 协议</li>
</ol>
</li>
<li><p>script元素</p>
<ol>
<li><p>工作原理</p>
<ol>
<li>浏览器一边下载 HTML 网页，一边开始解析。也就是说，不等到下载完，就开始解析。</li>
<li>解析过程中，浏览器发现<code>&lt;script&gt;</code>元素，就暂停解析，把网页渲染的控制权转交给 JavaScript 引擎。</li>
<li>如果<code>&lt;script&gt;</code>元素引用了外部脚本，就下载该脚本再执行，否则就直接执行代码。</li>
<li>JavaScript 引擎执行完毕，控制权交还渲染引擎，恢复往下解析 HTML 网页。</li>
</ol>
</li>
<li><p>defer和async属性</p>
<p>延迟脚本的执行，等到 DOM 加载生成后，再执行脚本</p>
<p><code>async</code>属性可以保证脚本下载的同时，浏览器继续渲染。需要注意的是，一旦采用这个属性，就无法保证脚本的执行顺序。</p>
<p>一般来说，如果脚本之间没有依赖关系，就使用<code>async</code>属性，如果脚本之间有依赖关系，就使用<code>defer</code>属性。如果同时使用<code>async</code>和<code>defer</code>属性，后者不起作用，浏览器行为由<code>async</code>属性决定。</p>
</li>
</ol>
</li>
</ol>
<h3 id="同源与跨域"><a href="#同源与跨域" class="headerlink" title="同源与跨域"></a>同源与跨域</h3><p><a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2016/04/same-origin-policy.html">浏览器同源政策及其规避方法</a></p>
<ul>
<li>协议相同</li>
<li>域名相同</li>
<li>端口相同</li>
</ul>
<p>为了保证用户信息的安全，防止恶意的网站窃取数据。</p>
<p><a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2016/04/cors.html">跨域资源共享 CORS 详解</a></p>
<p><strong>CORS</strong>是一个W3C标准，全称是”跨域资源共享”（Cross-origin resource sharing）。</p>
<p>浏览器将CORS请求分成两类：简单请求（simple request）和非简单请求（not-so-simple request）。</p>
<p><strong>简单请求</strong>条件</p>
<ol>
<li>请求方法是以下三种方法之一：<ul>
<li>HEAD</li>
<li>GET</li>
<li>POST</li>
</ul>
</li>
<li>HTTP的头信息不超出以下几种字段：<ul>
<li>Accept</li>
<li>Accept-Language</li>
<li>Content-Language</li>
<li>Last-Event-ID</li>
<li>Content-Type：只限于三个值<code>application/x-www-form-urlencoded</code>、<code>multipart/form-data</code>、<code>text/plain</code></li>
</ul>
</li>
</ol>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/%E5%9F%BA%E7%A1%80%E7%BC%96%E7%A8%8B%E7%9F%A5%E8%AF%86%E5%AD%A6%E4%B9%A0/" rel="tag"># 基础编程知识学习</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2021/02/18/TCP%E8%BF%9E%E6%8E%A5-%E5%AD%A6%E4%B9%A0/" rel="next" title="TCP连接 学习">
                <i class="fa fa-chevron-left"></i> TCP连接 学习
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2021/03/01/%E6%89%98%E7%A6%8F%E5%AD%A6%E4%B9%A0/" rel="prev" title="托福学习">
                托福学习 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
    </div>
  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.png"
                alt="" />
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives%7C%7C%20archive">
              
                  <span class="site-state-item-count">17</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">6</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/lzhello" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:lzhelloo@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E4%B8%AD%E7%9A%84%E9%87%8D%E8%A6%81%E8%80%83%E7%82%B9"><span class="nav-text">前端面试中的重要考点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9D%A2%E8%AF%95%E9%A2%98%E4%BD%93%E9%AA%8C"><span class="nav-text">面试题体验</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9D%A2%E8%AF%95%E5%87%86%E5%A4%87"><span class="nav-text">面试准备</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#HTML-CSS"><span class="nav-text">HTML+CSS</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#HTML"><span class="nav-text">HTML</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CSS"><span class="nav-text">CSS</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%83%E5%B1%80"><span class="nav-text">布局</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9A%E4%BD%8D"><span class="nav-text">定位</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9B%BE%E6%96%87%E6%A0%B7%E5%BC%8F"><span class="nav-text">图文样式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%93%8D%E5%BA%94%E5%BC%8F"><span class="nav-text">响应式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B6%E4%BB%96"><span class="nav-text">其他</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#JavaScript"><span class="nav-text">JavaScript</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#ES6"><span class="nav-text">ES6</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#es6Map%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%E5%8F%8A%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%B7%B1%E7%9A%84Map%E6%96%B9%E6%B3%95"><span class="nav-text">es6Map实现原理及实现自己的Map方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Set-WeakSet-Map-WeakMap"><span class="nav-text">Set WeakSet Map WeakMap</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E6%96%B0%E6%96%B9%E6%B3%95"><span class="nav-text">数组新方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#var-let-const"><span class="nav-text">var, let, const</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0"><span class="nav-text">箭头函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B%E5%92%8C%E8%AE%A1%E7%AE%97"><span class="nav-text">变量类型和计算</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#typeof%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-text">typeof运算符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B7%B1%E6%8B%B7%E8%B4%9D"><span class="nav-text">深拷贝</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%98%E9%87%8F%E8%AE%A1%E7%AE%97%EF%BC%88%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%EF%BC%89"><span class="nav-text">变量计算（类型转换）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%98%E9%87%8F%E6%8F%90%E5%8D%87"><span class="nav-text">变量提升</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8E%9F%E5%9E%8B%E5%92%8C%E5%8E%9F%E5%9E%8B%E9%93%BE"><span class="nav-text">原型和原型链</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%8B%E7%BB%8D"><span class="nav-text">介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%BB%A7%E6%89%BF"><span class="nav-text">继承</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%E5%88%A4%E6%96%AD-instanceof"><span class="nav-text">类型判断 instanceof</span></a></li><li class="nav-item nav-level-4"><a class="nav-link"><span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E5%87%86%E7%A1%AE%E5%88%A4%E6%96%AD%E4%B8%80%E4%B8%AA%E5%8F%98%E9%87%8F%E6%98%AF%E4%B8%8D%E6%98%AF%E6%95%B0%E7%BB%84%EF%BC%9F"><span class="nav-text">如何准确判断一个变量是不是数组？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#class%E5%8E%9F%E5%9E%8B%E7%9A%84%E6%9C%AC%E8%B4%A8%EF%BC%9F"><span class="nav-text">class原型的本质？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%8B%E5%86%99%E7%AE%80%E6%98%93jQuery"><span class="nav-text">手写简易jQuery</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%81%8D%E5%8E%86%E5%AF%B9%E8%B1%A1"><span class="nav-text">遍历对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%81%8D%E5%8E%86%E6%95%B0%E7%BB%84"><span class="nav-text">遍历数组</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%92%8C%E9%97%AD%E5%8C%85"><span class="nav-text">作用域和闭包</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="nav-text">作用域</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%97%AD%E5%8C%85"><span class="nav-text">闭包</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#this"><span class="nav-text">this</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE"><span class="nav-text">题目</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8E%9F%E5%9E%8B%E4%B8%AD%E7%9A%84this"><span class="nav-text">原型中的this</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#call-apply-bind"><span class="nav-text">call apply bind</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BC%82%E6%AD%A5"><span class="nav-text">异步</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8D%95%E7%BA%BF%E7%A8%8B%E4%B8%8E%E5%BC%82%E6%AD%A5"><span class="nav-text">单线程与异步</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%82%E6%AD%A5%E4%B8%8E%E5%90%8C%E6%AD%A5"><span class="nav-text">异步与同步</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Promise"><span class="nav-text">Promise</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-1"><span class="nav-text">题目</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BC%82%E6%AD%A5%E8%BF%9B%E9%98%B6"><span class="nav-text">异步进阶</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Event-loop"><span class="nav-text">Event loop</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#DOM%E4%BA%8B%E4%BB%B6%E4%B8%8Eevent-loop"><span class="nav-text">DOM事件与event loop</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Promise%E7%9A%84%E4%B8%89%E7%A7%8D%E7%8A%B6%E6%80%81"><span class="nav-text">Promise的三种状态</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#async-await"><span class="nav-text">async&#x2F;await</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#for%E2%80%A6of"><span class="nav-text">for…of</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%8F%E4%BB%BB%E5%8A%A1%E4%B8%8E%E5%BE%AE%E4%BB%BB%E5%8A%A1"><span class="nav-text">宏任务与微任务</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9A%E6%97%B6%E5%99%A8"><span class="nav-text">定时器</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC"><span class="nav-text">解构赋值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E6%89%81%E5%B9%B3%E5%8C%96"><span class="nav-text">数组扁平化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D"><span class="nav-text">数组去重</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JS%E5%AE%9E%E7%8E%B0%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%BF%BB%E8%BD%AC"><span class="nav-text">JS实现字符串翻转</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JS-WEB-API-DOM"><span class="nav-text">JS-WEB-API-DOM</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#DOM%E8%8A%82%E7%82%B9%E6%93%8D%E4%BD%9C"><span class="nav-text">DOM节点操作</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JS-WEB-API-%E4%BA%8B%E4%BB%B6"><span class="nav-text">JS-WEB-API-事件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8B%E4%BB%B6%E7%BB%91%E5%AE%9A"><span class="nav-text">事件绑定</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF"><span class="nav-text">事件循环</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8B%E4%BB%B6%E5%A7%94%E6%89%98"><span class="nav-text">事件委托</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC"><span class="nav-text">事件监听</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#COMPUTER-NETWORK"><span class="nav-text">COMPUTER NETWORK</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTP"><span class="nav-text">HTTP</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP%E5%92%8CHTTPS%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="nav-text">HTTP和HTTPS的基本概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DNS"><span class="nav-text">DNS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#UDP-amp-TCP"><span class="nav-text">UDP&amp;TCP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%8A%B6%E6%80%81%E7%A0%81"><span class="nav-text">状态码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AF%B7%E6%B1%82%E7%B1%BB%E5%9E%8B"><span class="nav-text">请求类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6"><span class="nav-text">缓存机制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B"><span class="nav-text">计算机网络模型</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8"><span class="nav-text">浏览器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%8E%E8%BE%93%E5%85%A5URL%E5%88%B0%E9%A1%B5%E9%9D%A2%E5%8A%A0%E8%BD%BD%E5%AE%8C%E6%88%90"><span class="nav-text">从输入URL到页面加载完成</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E5%AD%98%E5%82%A8%E6%96%B9%E5%BC%8F%EF%BC%9ACookie%E3%80%81SessionStorage%E3%80%81LocalStorage"><span class="nav-text">浏览器存储方式：Cookie、SessionStorage、LocalStorage</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E7%8E%AF%E5%A2%83%E6%A6%82%E8%BF%B0"><span class="nav-text">浏览器环境概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%8C%E6%BA%90%E4%B8%8E%E8%B7%A8%E5%9F%9F"><span class="nav-text">同源与跨域</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      


<div id="music163player">
 <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1349927611&auto=0&height=66"></iframe>
</div>




<script type="text/javascript" charset="utf-8" src="/js/tagcloud.js"></script>
<script type="text/javascript" charset="utf-8" src="/js/tagcanvas.js"></script>
<div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div id="myCanvasContainer" class="widget tagcloud">
        <canvas width="250" height="250" id="resCanvas" style="width:100%">
            <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9F%BA%E7%A1%80%E7%BC%96%E7%A8%8B%E7%9F%A5%E8%AF%86%E5%AD%A6%E4%B9%A0/" rel="tag">基础编程知识学习</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%A7%E5%AD%A6%E8%AF%BE%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="tag">大学课程学习笔记</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%88%91%E7%9A%84%E9%A1%B9%E7%9B%AE/" rel="tag">我的项目</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%89%93%E5%B7%A5/" rel="tag">打工</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%A5%E5%B8%B8%E7%94%9F%E6%B4%BB/" rel="tag">日常生活</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%8B%B1%E8%AF%AD/" rel="tag">英语</a><span class="tag-list-count">1</span></li></ul>
        </canvas>
    </div>
</div>

</div>
</aside>





        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">lzhello</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">Site words total count&#58;</span>
    
    <span title="Site words total count">72.6k</span>
  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>





<span id="sitetime"></span>
<script language=javascript>
  function siteTime(){
    window.setTimeout("siteTime()", 1000);
    var seconds = 1000;
    var minutes = seconds * 60;
    var hours = minutes * 60;
    var days = hours * 24;
    var years = days * 365;
    var today = new Date();
    var todayYear = today.getFullYear();
    var todayMonth = today.getMonth()+1;
    var todayDate = today.getDate();
    var todayHour = today.getHours();
    var todayMinute = today.getMinutes();
    var todaySecond = today.getSeconds();
    var t1 = Date.UTC(2018,06,07,12,00,00); // 设置建立网站的时间
    var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond);
    var diff = t2-t1;
    var diffYears = Math.floor(diff/years);
    var diffDays = Math.floor((diff/days)-diffYears*365);
    var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours);
    var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes);
    var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds);
    document.getElementById("sitetime").innerHTML=" 已运行"+diffYears+" 年 "diffDays+" 天 "+diffHours+" 小时 "+diffMinutes+" 分钟 "+diffSeconds+" 秒";
  }
  siteTime();
</script>
        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      人
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      次
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  










  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: false,
        appId: 'GtCtI94yO18eQvvJRre7GbmU-gzGzoHsz',
        appKey: '7Bc7UDA3574iWiw9pGgRc8VS',
        placeholder: 'Just go go',
        avatar:'/images/avatar.png',
        guest_info:guest,
        pageSize:'10' || 10,
    });
  </script>



  





  

  

  

  
  

  

  

  

</body>
</html>
