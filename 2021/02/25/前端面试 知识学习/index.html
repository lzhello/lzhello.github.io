<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="基础编程知识学习," />





  <link rel="alternate" href="/atom.xml" title="lzhello's blog" type="application/atom+xml" />






<meta name="description" content="前端面试中的重要考点 HTML与CSS 原型，作用域，异步 DOM事件与Ajax 性能优化 手写代码 HTTP协议">
<meta property="og:type" content="article">
<meta property="og:title" content="前端面试 知识学习">
<meta property="og:url" content="https://github.com/lzhello/lzhello.github.io.git/2021/02/25/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%20%E7%9F%A5%E8%AF%86%E5%AD%A6%E4%B9%A0/index.html">
<meta property="og:site_name" content="lzhello&#39;s blog">
<meta property="og:description" content="前端面试中的重要考点 HTML与CSS 原型，作用域，异步 DOM事件与Ajax 性能优化 手写代码 HTTP协议">
<meta property="og:locale">
<meta property="og:image" content="https://res.cloudinary.com/drx6hbrzu/image/upload/v1619451038/1619451006_1_a3fjal.png">
<meta property="og:image" content="https://res.cloudinary.com/drx6hbrzu/image/upload/v1621428918/3_7U_JSVSRC_PCHKI9E_GW1_pmj1ub.png">
<meta property="og:image" content="https://res.cloudinary.com/drx6hbrzu/image/upload/v1621781359/VX_OV51JHY7_C_0YH37CBSO_fdecs5.png">
<meta property="article:published_time" content="2021-02-25T13:20:19.000Z">
<meta property="article:modified_time" content="2021-06-01T16:58:46.400Z">
<meta property="article:author" content="lzhello">
<meta property="article:tag" content="基础编程知识学习">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://res.cloudinary.com/drx6hbrzu/image/upload/v1619451038/1619451006_1_a3fjal.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://github.com/lzhello/lzhello.github.io.git/2021/02/25/前端面试 知识学习/"/>





  <title>前端面试 知识学习 | lzhello's blog</title>
  








<meta name="generator" content="Hexo 5.2.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner">
<div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">lzhello's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">我的头发不是烫坏了只是天生自然卷</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-guestbook">
          <a href="/guestbook" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            留言
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://github.com/lzhello/lzhello.github.io.git/2021/02/25/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%20%E7%9F%A5%E8%AF%86%E5%AD%A6%E4%B9%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="lzhello's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">前端面试 知识学习</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-02-25T21:20:19+08:00">
                2021-02-25
              </time>
            


            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2021/02/25/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%20%E7%9F%A5%E8%AF%86%E5%AD%A6%E4%B9%A0/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2021/02/25/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%20%E7%9F%A5%E8%AF%86%E5%AD%A6%E4%B9%A0/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o"></i>
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
            </span>
          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  11.6k
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="前端面试中的重要考点"><a href="#前端面试中的重要考点" class="headerlink" title="前端面试中的重要考点"></a>前端面试中的重要考点</h2><ul>
<li>HTML与CSS</li>
<li>原型，作用域，异步</li>
<li>DOM事件与Ajax</li>
<li>性能优化</li>
<li>手写代码</li>
<li>HTTP协议</li>
</ul>
<a id="more"></a>

<p>CSS：布局，定位，移动端响应式</p>
<p>ES语法：原型&amp;原型链，作用域&amp;闭包，异步&amp;单线程</p>
<p>Web API： DOM&amp;BOM， Ajax跨域，事件存储</p>
<p>开发环境：版本管理，调试抓包，打包建构</p>
<p>运行环境：页面渲染，性能优化，Web安全</p>
<p>网络通讯： headers，Restful API， 缓存策略</p>
<h2 id="面试题体验"><a href="#面试题体验" class="headerlink" title="面试题体验"></a>面试题体验</h2><ul>
<li>typeof能判断的类型？【考点：JS变量类型】</li>
<li>何时使用===何时使用==？【考点：强制类型转换】</li>
<li>window.onload和DOMContentLoaded区别？【页面加载过程】</li>
<li>JS创建10个&lt;a&gt;标签，点击弹出对应序号 【JS作用域】</li>
<li>手写节流throttle和防抖debounce【性能体验优化】</li>
<li>Promise解决什么问题？【JS异步】</li>
</ul>
<h2 id="面试准备"><a href="#面试准备" class="headerlink" title="面试准备"></a>面试准备</h2><p>JD分析+简历准备</p>
<p><a target="_blank" rel="noopener" href="http://www.imooc.com/article/300475">面试中应避免的几种情况</a></p>
<hr>
<h1 id="HTML-CSS"><a href="#HTML-CSS" class="headerlink" title="HTML+CSS"></a>HTML+CSS</h1><h2 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h2><ol>
<li>如何理解HTML语义化（根据具体内容，选择合适的标签进行代码的编写，少用div和span）<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/6bc1fc059b51">如何理解HTML结构的语义化？</a></li>
</ol>
<ul>
<li>让人更容易读懂（增加代码可读性）</li>
<li>让搜索引擎更容易读懂（SEO）</li>
</ul>
<ol start="2">
<li><p>SEO</p>
<p>前端需要注意哪些SEO</p>
<ul>
<li>合理的title、description、keywords：搜索对这三项的权重逐个减小；<ul>
<li>title值强调重点即可，重要关键词出现不要超过2次，而且要靠前，不同页面title要有所不同；</li>
<li>description把页面内容高度概括，长度合适，不可过分堆砌关键词，不同页面description有所不同；</li>
<li>keywords列举出重要关键词即可</li>
</ul>
</li>
<li>语义化的HTML代码，符合W3C规范：语义化代码让搜索引擎容易理解网页</li>
<li>重要内容HTML代码放在最前：搜索引擎抓取HTML顺序是从上到下，有的搜索引擎对抓取长度有限制，保证重要内容一定会被抓取</li>
<li>重要内容不要用js输出：爬虫不会执行js获取内容</li>
<li>少用iframe：搜索引擎不会抓取iframe中的内容</li>
<li>非装饰性图片必须加alt</li>
<li>提高网站速度：网站速度是搜索引擎排序的一个重要指标</li>
</ul>
<p>如何做SEO优化?</p>
<ul>
<li><strong>标题与关键词</strong><ul>
<li>设置有吸引力切合实际的标题，标题中要包含所做的关键词</li>
</ul>
</li>
<li><strong>网站结构目录</strong><ul>
<li>最好不要超过三级，每级有“面包屑导航”，使网站成树状结构分布</li>
</ul>
</li>
<li><strong>页面元素</strong><ul>
<li>给图片标注”Alt”可以让搜索引擎更友好的收录</li>
</ul>
</li>
<li><strong>网站内容</strong><ul>
<li>每个月每天有规律的更新网站的内容，会使搜索引擎更加喜欢</li>
</ul>
</li>
<li><strong>友情链接</strong><ul>
<li>对方一定要是正规网站，每天有专业的团队或者个人维护更新</li>
</ul>
</li>
<li><strong>内链的布置</strong><ul>
<li>使网站形成类似蜘蛛网的结构，不会出现单独连接的页面或链接</li>
</ul>
</li>
<li><strong>流量分析</strong><ul>
<li>通过统计工具(百度统计，CNZZ)分析流量来源，指导下一步的SEO</li>
</ul>
</li>
</ul>
</li>
<li><p>默认情况下，哪些HTML标签是块级元素，哪些是内联元素/行内元素</p>
</li>
</ol>
<ul>
<li><p>display:block/table    div, h1,h2, table, ul, ol, p    独占一行</p>
</li>
<li><p>display:inline/inline-block     span, img, input, button, em</p>
</li>
</ul>
<ul>
<li><p>block、inline、inline-block 的区别</p>
</li>
<li><p>block 块元素独占一行，宽度自动填充为父元素宽度。元素的高度、宽度、行高以及顶和底边距都可设置。即使设置了宽度,仍然是独占一行。例如，<code>div, p</code></p>
</li>
<li><p>inline 元素，多个该元素排列在一行，直到超出，才会换新一行，其宽度随元素内容而变化。width,height 属性无效，垂直方向的 padding 和 margin 会失效。例如，<code>a, span</code></p>
</li>
<li><p>inline-block：既具有 block 的宽度高度特性又具有 inline 的同行特性。例如，<code>img,input</code></p>
</li>
</ul>
<h2 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h2><p>CSS：布局，定位，图文样式，响应式，CSS3</p>
<h3 id="布局"><a href="#布局" class="headerlink" title="布局"></a>布局</h3><ol>
<li><p>盒子模型的宽度如何计算？</p>
<p>offsetWidth=content+padding+border（没有margin）</p>
<p>如果要指定offsetWidth的大小：box-sizing = border-box;（width不再是content宽度，而是整个box宽度，规定容器元素的最终尺寸计算方式，默认值是content-box</p>
</li>
<li><p>margin纵向重叠问题</p>
<p>相邻元素的margin-top和margin-bottom会发生重叠，空白内容的p标签也会重叠</p>
</li>
<li><p>margin负值的问题</p>
<p>对margin的top，left，right，bottom设置负值会发生什么</p>
<p>margin-top和margin-left设置负值，元素会向上/向左移动</p>
<p>margin-right负值，右侧元素左移，自身不受影响</p>
<p>margin-bottom负值，下方元素上移，自身不受影响</p>
</li>
<li><p>BFC的理解与应用</p>
<p>什么是BFC？怎么应用？</p>
<p>block format context，块级格式化上下文</p>
<p>独立渲染区域，内部元素的渲染不会影响到边界以外的元素</p>
<p>形成BFC的条件：</p>
<ul>
<li>float不是none；</li>
<li>position是absolute或者fixed；</li>
<li>overflow不是visible；</li>
<li>display是flex inline-block等</li>
</ul>
<p>BFC的常见应用：清除浮动，</p>
</li>
<li><p>float布局的问题，clearfix</p>
<p>如何实现圣杯布局和双飞翼布局</p>
<p>目的：三栏布局，中间一栏最先加载和渲染（内容最重要）；两侧内容固定，中间内容随着宽度自适应；一般用于PC网页</p>
<p>技术总结：使用float布局；两侧使用margin负值，以便和中间的内容横向重叠；防止中间内容被两侧覆盖，一个用padding（圣杯）一个用margin（双飞翼）；</p>
<p>手写clearfix</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.clearfix</span><span class="selector-pseudo">:after</span>&#123;</span><br><span class="line">    <span class="attribute">content</span>:<span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="attribute">display</span>:table;</span><br><span class="line">    <span class="attribute">clear</span>:both;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.clearfix</span>&#123;</span><br><span class="line">    *zoom:1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>flex</p>
<p>Flex 是弹性布局，用来为盒状模型提供最大的灵活性，传统布局方式依赖 position、float 和 display 属性，对特殊布局不方便。</p>
<p>通过flex实现三点骰子</p>
<p>常见语法：</p>
<p>flex-direction:主轴的方向，可横向可纵向</p>
<p>justify-content: 主轴对齐方式</p>
<p>align-items: 交叉轴对齐方式</p>
<p>flex-wrap: 是否换行 </p>
<p>align-self: 子元素对齐方式</p>
</li>
<li><p>元素消失</p>
<p>visibility=hidden, opacity=0，display:none</p>
<ul>
<li>opacity=0，元素隐藏，不改变页面布局，可触发绑定事件</li>
<li>visibility=hidden，元素隐藏，不改变页面布局，不会触发绑定事件</li>
<li>display=none，元素隐藏，改变页面布局，可以理解成在页面中把该元素删除掉一样。</li>
</ul>
</li>
<li><p>position属性</p>
<ul>
<li>fixed：相对浏览器窗口固定，即使窗口滚动它也不懂，不在文档流中，fixed 元素可与其余元素重叠</li>
<li>relative：相对于自身原本位置偏移，元素在文档流中仍占据原来的空间</li>
<li>absolute：相对于最近的父元素定位，不在文档流中</li>
<li>static：默认值，没有定位，出现在正常的文档流中，忽略任何 top,buttom,left,right 声明</li>
<li>sticky：元素先按照普通文档流定位，然后相对于该元素在流中的 flow root（BFC）和 containing block（最近的块级祖先元素）定位。一个 sticky 元素会“固定”在离它最近的一个拥有“滚动机制”的祖先上。</li>
</ul>
</li>
</ol>
<h3 id="定位"><a href="#定位" class="headerlink" title="定位"></a>定位</h3><ul>
<li><p>absolute和relative分别依据什么定位？</p>
<p>relative依据自身定位；absolute依据最近一层的定位元素定位</p>
<p>定位元素：absolute，relative，fixed，inherit</p>
</li>
<li><p>居中对齐有哪些实现方式？</p>
<p>水平居中</p>
<ol>
<li>inline元素：text-align: center </li>
<li>block元素：margin: auto</li>
<li>absolute元素：left:50% + margin-left负值（left50%让元素左边界在父元素正中间，50%是父元素宽度的50%，然后再用margin-left左移半个自身 </li>
</ol>
<p>垂直居中</p>
<ol>
<li>inline元素：line-height的值=height值</li>
<li>absolute元素： top:50% + margin-top负值（必须知道子元素的高</li>
<li>absolute元素： transform(-50%,-50%)（不需要子元素尺寸，CSS3，所以浏览器可能有不支持</li>
<li>absolute元素： top,left,bottom,right =0 +margin: auto（不需要子元素尺寸</li>
</ol>
</li>
</ul>
<h3 id="图文样式"><a href="#图文样式" class="headerlink" title="图文样式"></a>图文样式</h3><ul>
<li><p>line-height的继承问题</p>
<p>如果父元素里的line-height是具体的数值（30px），则继承该值；如果父元素里写的是比例（2/1.5），则继承该比例；如果写的是百分比，（200%，150%），则继承计算出来的值</p>
</li>
<li><p>文字溢出时，实现在末尾显示三个点省略效果 <a target="_blank" rel="noopener" href="https://blog.csdn.net/chuluxie3918/article/details/100819339">参考</a></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">     <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">     <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">     <span class="attribute">overflow</span>: hidden;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>第 2 行表示强制在一行显示，如果不强制在一行显示，超出容器宽度的内容换行显示，父容器直接被撑高，就没有溢出了；</p>
<p>第 3 行表示在溢出时显示省略标记，也就是图中红线圈出来的三个点，这个就没啥好说的了；</p>
<p>第 4 行表示溢出部分内容隐藏，不溢出隐藏的话…. 第 3 行的溢出设置还有啥用，我都直接显示到父容器外面了啊喂！</p>
</li>
</ul>
<h3 id="响应式"><a href="#响应式" class="headerlink" title="响应式"></a>响应式</h3><ul>
<li><p>rem是什么？</p>
<p>rem是一个长度单位</p>
<p>​    长度单位：px，绝对长度单位，最常用；em，相对长度单位，相对于父元素，不常用；rem，相对长度单位，相对于根元素，常用于响应式布局</p>
</li>
<li><p>如何实现响应式？</p>
<p>media-query，根据不同的屏幕宽度来设置根元素font-size</p>
<p>rem，基于根元素的相对单位</p>
</li>
<li><p>rem弊端：</p>
<p>阶梯性，不够具体</p>
</li>
<li><p>网页视口尺寸  </p>
<p>window.screen.height  屏幕高度（与设备手机有关</p>
<p>window.innerHeight 网页视口高度（与浏览器有关（===100vh</p>
<p>document.body.clientHeight body高度（与内容有关</p>
</li>
<li><p>vw/vh</p>
<p>网页视口高度的1/100</p>
<p>网页视口宽度的1/100</p>
<p>vmax取两者最大值；vmin取两者最小值</p>
</li>
</ul>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><ul>
<li><p>HTML5和CSS3有什么新特性 <a target="_blank" rel="noopener" href="https://www.cnblogs.com/star91/p/5659134.html">参考</a></p>
<p>HTML5：aside（侧边栏），footer（section/document页脚），header（文档头部区域），nav（导航链接），audio，video</p>
<p>表单元素</p>
<p> Web Storage DOM API 为Web应用提供了一个能够替代cookie的Javascript解决方案</p>
<ul>
<li>sessionStorage—客户端数据存储，只能维持在当前会话范围内。</li>
</ul>
<p>​       sessionStorage 方法针对一个 session 进行数据存储。当用户关闭浏览器窗口后，数据会被删除。</p>
<ul>
<li>localStorage—客户端数据存储，能维持在多个会话范围内。</li>
</ul>
<p>​       localStorage 对象存储的数据没有时间限制。第二天、第二周或下一年之后，数据依然可用。</p>
<p>CSS3：选择器，边框（borders-image,radius,shadow)，文本效果（text-wrap,text-overflow…），转换变形（transform）</p>
</li>
</ul>
<h1 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h1><h3 id="ES6"><a href="#ES6" class="headerlink" title="ES6"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_45495667/article/details/106967467?utm_medium=distribute.pc_relevant_t0.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-1.control&depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-1.control">ES6</a></h3><h4 id="es6Map实现原理及实现自己的Map方法"><a href="#es6Map实现原理及实现自己的Map方法" class="headerlink" title="es6Map实现原理及实现自己的Map方法"></a>es6Map实现原理及实现自己的Map方法</h4><p>Map        </p>
<ol>
<li><p>不重复        </p>
</li>
<li><p>字符串 对象 NaN null [] function(){} 10       </p>
</li>
<li><p>set get delete has clear方法 </p>
</li>
</ol>
<h3 id="变量类型和计算"><a href="#变量类型和计算" class="headerlink" title="变量类型和计算"></a>变量类型和计算</h3><ul>
<li><p>JS值类型和引用类型的区别</p>
<ol>
<li>typeof能判断哪些类型</li>
<li>何时使用===何时使用==</li>
<li>值类型和引用类型的区别</li>
<li>手写深拷贝</li>
</ol>
</li>
<li><p>变量类型</p>
<p>值类型vs引用类型</p>
<p>typeof运算符</p>
<p>深拷贝</p>
</li>
<li><p>变量计算</p>
</li>
</ul>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//值类型</span></span><br><span class="line"><span class="keyword">let</span> a =<span class="number">100</span>;</span><br><span class="line"><span class="keyword">let</span> b = a;</span><br><span class="line">a=<span class="number">200</span>;</span><br><span class="line"><span class="built_in">console</span>.log(b);<span class="comment">//100</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//引用类型</span></span><br><span class="line"><span class="keyword">let</span> c =&#123;<span class="attr">age</span>:<span class="number">20</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> d = c;</span><br><span class="line">d.age=<span class="number">21</span>;</span><br><span class="line"><span class="built_in">console</span>.log(c.age);<span class="comment">//21</span></span><br></pre></td></tr></table></figure>

<p>  <img src="https://res.cloudinary.com/drx6hbrzu/image/upload/v1619451038/1619451006_1_a3fjal.png"></p>
<p>  为什么不把内存地址中的东西直接存在栈里：性能，复制慢</p>
<ul>
<li><p>常见值类型:undefined, ‘abc’, 100, true, Symbol(‘s’)</p>
</li>
<li><p>常见引用类型：</p>
<p>obj={ x:100}</p>
<p>arr=[1,2,3]</p>
<p>null(特殊引用类型，指针指向空地址)</p>
<p>function fn(){}(特殊引用类型，不用于存储数据，所以没有拷贝，复制函数一说)</p>
</li>
</ul>
<h4 id="typeof运算符"><a href="#typeof运算符" class="headerlink" title="typeof运算符"></a>typeof运算符</h4><ol>
<li>能识别出所有的值类型</li>
<li>识别函数</li>
<li>判断是否是引用类型（不可再细分）</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//判断所有的值的类型</span></span><br><span class="line"><span class="keyword">let</span> a;<span class="comment">//undefined</span></span><br><span class="line"><span class="keyword">const</span> str = <span class="string">&quot;abc&quot;</span>; <span class="comment">//string</span></span><br><span class="line"><span class="keyword">const</span> n = <span class="number">100</span> ; <span class="comment">//number</span></span><br><span class="line"><span class="keyword">const</span> b = <span class="literal">true</span> ; <span class="comment">//boolean </span></span><br><span class="line"><span class="keyword">const</span> s = <span class="built_in">Symbol</span>(<span class="string">&#x27;s&#x27;</span>); <span class="comment">//symbol</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//能判断函数</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="built_in">console</span>.log; <span class="comment">//function</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;; <span class="comment">//function</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//能识别引用类型</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">null</span> <span class="comment">// object</span></span><br><span class="line"><span class="keyword">typeof</span> [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>] <span class="comment">//object</span></span><br><span class="line"><span class="keyword">typeof</span> &#123;<span class="attr">x</span> : <span class="number">100</span>&#125; <span class="comment">//object</span></span><br></pre></td></tr></table></figure>

<h4 id="深拷贝"><a href="#深拷贝" class="headerlink" title="深拷贝"></a>深拷贝</h4><table>
<thead>
<tr>
<th></th>
<th>是否与原数据指向同一对象</th>
<th>第一层数据为基本数据类型</th>
<th>原数据中包含子对象</th>
</tr>
</thead>
<tbody><tr>
<td>赋值</td>
<td>是</td>
<td>改变会使原数据一同改变</td>
<td>改变会使原数据一同改变</td>
</tr>
<tr>
<td>浅拷贝</td>
<td>否</td>
<td>改变<strong>不会</strong>使原数据一同改变</td>
<td>改变会使原数据一同改变</td>
</tr>
<tr>
<td>深拷贝</td>
<td>否</td>
<td>改变<strong>不会</strong>使原数据一同改变</td>
<td>改变<strong>不会</strong>使原数据一同改变</td>
</tr>
</tbody></table>
<p>注意判断值类型/引用类型</p>
<p>注意判断是数组还是对象</p>
<p>递归</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj1 = &#123;</span><br><span class="line">    age:<span class="number">20</span>,</span><br><span class="line">    name:<span class="string">&quot;object1&quot;</span>,</span><br><span class="line">    address:&#123;</span><br><span class="line">        city:<span class="string">&quot;beijing&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> obj2 = obj1;</span><br><span class="line">obj2.address.city = <span class="string">&quot;shanghai&quot;</span>;<span class="comment">//浅拷贝，引用值类型</span></span><br><span class="line"><span class="built_in">console</span>.log(obj1.address.city);<span class="comment">//shanghai</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">*深拷贝</span></span><br><span class="line"><span class="comment">*<span class="doctag">@param <span class="type">&#123;Object&#125;</span> </span>obj 要拷贝的对象 </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepClone</span>(<span class="params">obj = &#123;&#125;</span>)</span>&#123;</span><br><span class="line">    <span class="function"><span class="title">if</span>(<span class="params"><span class="keyword">typeof</span> obj !== <span class="string">&#x27;object&#x27;</span> || obj == <span class="literal">null</span></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> obj; <span class="comment">//如果不是对象或者数组，没有深拷贝的必要，直接返回</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//初始化返回结果</span></span><br><span class="line">    <span class="keyword">let</span> result;</span><br><span class="line">    <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> <span class="built_in">Array</span>)&#123;<span class="comment">//判断是不是数组</span></span><br><span class="line">        result=[];</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        result=&#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">for</span>(<span class="params"><span class="keyword">let</span> key <span class="keyword">in</span> obj</span>)</span>&#123;</span><br><span class="line">        <span class="function"><span class="title">if</span>(<span class="params">obj.hasOwnProperty(key)</span>)</span>&#123;</span><br><span class="line">            <span class="comment">//保证key不是原型的属性</span></span><br><span class="line">            <span class="comment">//递归调用</span></span><br><span class="line">            result[key] = deepClone(obj[key]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//返回结果</span></span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj3 = deepClone(obj1);</span><br><span class="line">obj3.address.city = <span class="string">&quot;shenzhen&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj1.address.city);<span class="comment">//shanghai </span></span><br></pre></td></tr></table></figure>

<h4 id="变量计算（类型转换）"><a href="#变量计算（类型转换）" class="headerlink" title="变量计算（类型转换）"></a>变量计算（类型转换）</h4><ul>
<li><p>字符串拼接</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="number">100</span>+<span class="number">10</span>;<span class="comment">//110</span></span><br><span class="line"><span class="keyword">const</span> b = <span class="number">100</span>+<span class="string">&#x27;10&#x27;</span>;<span class="comment">//10010</span></span><br><span class="line"><span class="keyword">const</span> c = <span class="literal">true</span>+<span class="string">&#x27;10&#x27;</span>;<span class="comment">//true10 </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> d = <span class="number">100</span> + <span class="built_in">parseInt</span>(<span class="string">&#x27;10&#x27;</span>);<span class="comment">//110</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>==（可能发生类型转换，会尽量发生转换使其相等）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">100</span> == <span class="string">&#x27;100&#x27;</span>;<span class="comment">//true</span></span><br><span class="line"><span class="number">0</span> == <span class="string">&#x27;&#x27;</span>;<span class="comment">//true</span></span><br><span class="line"><span class="number">0</span> == <span class="literal">false</span> ;<span class="comment">//true</span></span><br><span class="line"><span class="literal">false</span> == <span class="string">&#x27;&#x27;</span>;<span class="comment">//true</span></span><br><span class="line"><span class="literal">null</span> == <span class="literal">undefined</span> ; <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<p>除了 == null之外，其他都一律用 ===</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    x:<span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">if</span>(<span class="params">obj.a == <span class="literal">null</span></span>)</span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;<span class="comment">//相当于判断了if(obj.a === null ||obj.a ===undefined)&#123;&#125;</span></span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>if语句和逻辑运算</p>
<p>truly变量： <code>!!a === true</code> 的变量</p>
<p>falsely变量： <code>!!a === false</code> 的变量</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">!!<span class="number">0</span> === <span class="literal">false</span>;</span><br><span class="line">!!<span class="literal">NaN</span> === <span class="literal">false</span>;</span><br><span class="line">!!<span class="string">&#x27;&#x27;</span> === <span class="literal">false</span>;</span><br><span class="line">!!<span class="literal">null</span> === <span class="literal">false</span>;</span><br><span class="line">!!<span class="literal">undefined</span> === <span class="literal">false</span>;</span><br><span class="line">!!<span class="literal">false</span> ===<span class="literal">false</span>;</span><br><span class="line"><span class="comment">//除了这些都是truly变量</span></span><br></pre></td></tr></table></figure>

<p>if判断的就是truly和falsely变量</p>
<p>逻辑判断</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">10</span> &amp;&amp; <span class="number">0</span>);<span class="comment">//0   因为10是truly，0是falsely，&amp;&amp;与运算</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">0</span> &amp;&amp; <span class="number">10</span>);<span class="comment">//0</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;&#x27;</span> || <span class="string">&#x27;abc&#x27;</span>);<span class="comment">//&#x27;abc&#x27;  因为&#x27;abc&#x27;是truly，&#x27;&#x27;是falsely，||或运算，</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;abc&#x27;</span>||<span class="string">&#x27;&#x27;</span>);<span class="comment">//&#x27;abc&#x27;</span></span><br><span class="line"><span class="built_in">console</span>.log(!<span class="built_in">window</span>.abc);<span class="comment">//true</span></span><br></pre></td></tr></table></figure>


</li>
</ul>
<h4 id="变量提升"><a href="#变量提升" class="headerlink" title="变量提升"></a>变量提升</h4><h3 id="原型和原型链"><a href="#原型和原型链" class="headerlink" title="原型和原型链"></a>原型和原型链</h3><ul>
<li><p>知识点</p>
<ul>
<li>class和继承</li>
<li>类型判断instanceof</li>
<li>原型和原型链</li>
</ul>
</li>
<li><p>class</p>
<ul>
<li>constructor</li>
<li>属性</li>
<li>方法</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">name,number</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.number = number;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="title">sayHi</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(</span><br><span class="line">        	<span class="string">`姓名 <span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span>, 学号 <span class="subst">$&#123;<span class="built_in">this</span>.number&#125;</span>`</span></span><br><span class="line">       	)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//通过类声明对象/实例</span></span><br><span class="line"><span class="keyword">const</span> xiaoming = <span class="keyword">new</span> Student(<span class="string">&#x27;小明&#x27;</span>,<span class="number">1234</span>);</span><br><span class="line"><span class="built_in">console</span>.log(xiaoming.name);<span class="comment">//小明</span></span><br><span class="line"><span class="built_in">console</span>.log(xiaoming.number);<span class="comment">//1234</span></span><br><span class="line">xiaoming.sayHi();<span class="comment">//姓名 小明, 学号 1234</span></span><br></pre></td></tr></table></figure>



</li>
</ul>
<h5 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h5><ul>
<li><p>extends</p>
</li>
<li><p>super</p>
</li>
<li><p>扩展或重写方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">People</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">eat</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">` <span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span> eat something`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;<span class="comment">//父类</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">People</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">name,number</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">super</span>(name);</span><br><span class="line">        <span class="built_in">this</span>.number = number;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">sayHi</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`姓名 <span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span>, 学号 <span class="subst">$&#123;<span class="built_in">this</span>.number&#125;</span>`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Teacher</span> <span class="keyword">extends</span> <span class="title">People</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">name, major</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">super</span>(name)</span><br><span class="line">        <span class="built_in">this</span>.major = major</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">teach</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span> 教 <span class="subst">$&#123;<span class="built_in">this</span>.major&#125;</span>`</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> People(<span class="string">&quot;people1&quot;</span>);</span><br><span class="line">p1.eat();<span class="comment">// people1 eat something</span></span><br><span class="line"><span class="keyword">const</span> xiaoming = <span class="keyword">new</span> Student(<span class="string">&quot;小明&quot;</span>,<span class="number">1234</span>);</span><br><span class="line">xiaoming.sayHi(); <span class="comment">//姓名 小明, 学号 1234</span></span><br><span class="line"><span class="keyword">const</span> wang = <span class="keyword">new</span> Teacher(<span class="string">&quot;王&quot;</span>,<span class="string">&quot;math&quot;</span>)</span><br><span class="line">wang.teach(); <span class="comment">//王 教 math//父类</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="类型判断-instanceof"><a href="#类型判断-instanceof" class="headerlink" title="类型判断 instanceof"></a>类型判断 instanceof</h4><p>instanceof是基于原型链实现的</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">xiaoming <span class="keyword">instanceof</span> Student;<span class="comment">//true</span></span><br><span class="line">xiaoming <span class="keyword">instanceof</span> People;<span class="comment">//true</span></span><br><span class="line">xiaoming <span class="keyword">instanceof</span> <span class="built_in">Object</span>;<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">[] <span class="keyword">instanceof</span> <span class="built_in">Array</span>;<span class="comment">//true</span></span><br><span class="line">[] <span class="keyword">instanceof</span> <span class="built_in">Object</span>;<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//class实际上是函数</span></span><br><span class="line"><span class="keyword">typeof</span> Student;<span class="comment">//function</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//隐式原型</span></span><br><span class="line"><span class="built_in">console</span>.log(xiaoming.__proto__);</span><br><span class="line"><span class="comment">//显式原型</span></span><br><span class="line"><span class="built_in">console</span>.log(Student.prototype);</span><br><span class="line">xiaoming.__proto__ === Student.prototype; <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<p>在定义Student的时候，会有一个属性prototype指向Student.prototype对象，Student的方法都放在prototype里。new出了xiaoming之后，xiaoming的属性有name, number, __ proto__ ，__ proto__ 是隐式原型，指向Student.prototype</p>
<p>原型关系：</p>
<ol>
<li>每个class都有显示原型prototype</li>
<li>每个实例都有隐式原型__ proto__</li>
<li>实例的隐式原型指向class的显式原型</li>
</ol>
<p>基于原型的执行规则：</p>
<p>获取属性的xiaoming.name或者执行方法xiaoming.sayHi()时，先在自身属性和方法寻找，如果找不到，就会去隐式原型中查找</p>
<p>原型链：</p>
<p><code>People.prototype === Student.prototype.__proto__</code></p>
<p><img src="https://res.cloudinary.com/drx6hbrzu/image/upload/v1621428918/3_7U_JSVSRC_PCHKI9E_GW1_pmj1ub.png" alt="原型链"></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xiaoming.hasOwnProperty(<span class="string">&#x27;name&#x27;</span>);<span class="comment">//true</span></span><br><span class="line">xiaoming.hasOwnProperty(<span class="string">&#x27;sayHi&#x27;</span>);<span class="comment">//false</span></span><br><span class="line">xiaoming.__proto__.hasOwnProperty(<span class="string">&#x27;sayHi&#x27;</span>);<span class="comment">//true</span></span><br><span class="line">xiaoming.__proto__.__proto__.hasOwnProperty(<span class="string">&#x27;eat&#x27;</span>);<span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<p>class是ES6语法规范，由ECMA委员会发布，ECMA只规定语法规则，即代码的书写规范，不规定如何实现，所以以上的实现方式全部都是V8引擎的实现方式</p>
<h4 id="原型相关面试题"><a href="#原型相关面试题" class="headerlink" title="原型相关面试题"></a>原型相关面试题</h4><ul>
<li><p>如何准确判断一个变量是不是数组？</p>
<p>instanceof Array</p>
</li>
<li><p>class原型的本质？</p>
<p>原型和原型链的图示</p>
<p>属性和方法的执行规则</p>
</li>
<li><p>手写简易jQuery</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">jQuery</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">selector</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">const</span> result = <span class="built_in">document</span>.querySelectorAll(selector);</span><br><span class="line">        <span class="keyword">const</span> length = result.length;</span><br><span class="line">        <span class="function"><span class="title">for</span>(<span class="params"><span class="keyword">let</span> i=<span class="number">0</span>;i&lt;length;i++</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">this</span>[i]=result[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">this</span>.length = length;</span><br><span class="line">        <span class="built_in">this</span>.selector = selector;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">get</span>(<span class="params">index</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>[index];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">each</span>(<span class="params">fn</span>)</span>&#123;</span><br><span class="line">        <span class="function"><span class="title">for</span>(<span class="params"><span class="keyword">let</span> i=<span class="number">0</span>;i&lt;<span class="built_in">this</span>.length;i++</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">const</span> elem = <span class="built_in">this</span>[i];</span><br><span class="line">            fn(elem);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">on</span>(<span class="params">type, fn</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.each(<span class="function"><span class="params">elem</span>=&gt;</span>&#123;</span><br><span class="line">            elem.addEventListener(type, fn, <span class="literal">false</span>);</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//可以扩展很多DOM API</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//插件</span></span><br><span class="line">jQuery.prototype.dialog = <span class="function"><span class="keyword">function</span>(<span class="params">info</span>)</span>&#123;</span><br><span class="line">    alert(info)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//复写 &#x27;造轮子&#x27;</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">myJQuery</span> <span class="keyword">extends</span> <span class="title">jQuery</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">selector</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">super</span>(selector);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//扩展自己的方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在HTML里放三个p标签元素,写hello1,hello2,hello3</span></span><br><span class="line"><span class="keyword">const</span> $p = <span class="keyword">new</span> jQuery(<span class="string">&#x27;p&#x27;</span>);<span class="comment">//选中所有p元素</span></span><br><span class="line">$p;	<span class="comment">//jQuery &#123;0: p, 1: p, 2: p, length: 3, selector: &quot;p&quot;&#125;</span></span><br><span class="line">$p.get(<span class="number">1</span>);<span class="comment">//&lt;p&gt;hello2&lt;/p&gt;</span></span><br><span class="line">$p.each(<span class="function">(<span class="params">elem</span>)=&gt;</span><span class="built_in">console</span>.log(elem.nodeName));<span class="comment">//③p</span></span><br><span class="line">$p.on(<span class="string">&#x27;click&#x27;</span>,<span class="function">()=&gt;</span>alert(<span class="string">&#x27;clicked&#x27;</span>));<span class="comment">//点击任意一个HTML里的p元素会alert clicked</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ES5实现ES6的extend继承</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.prototype</span></span><br><span class="line"><span class="comment">// 这种方式无法在生成对象时进行传参</span></span><br><span class="line"><span class="comment">// 且由classA生成的实例对象会共享name属性</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">classA</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">this</span>.name = <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line">classA.prototype.getName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">this</span>.name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">classB</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line">classB.prototype = <span class="keyword">new</span> classA();</span><br><span class="line">classB.prototype.constructor = classB;</span><br><span class="line"><span class="keyword">var</span> b = <span class="keyword">new</span> classB();</span><br><span class="line"><span class="built_in">console</span>.log(b.getName()); <span class="comment">//hello</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.原型链上加构造函数</span></span><br><span class="line"><span class="comment">// 能够传参</span></span><br><span class="line"><span class="comment">// 且公有变量不会被其他实例共享</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">classA</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line">classA.prototype.getName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">classB</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">    classA.call(<span class="built_in">this</span>,name);</span><br><span class="line">&#125;</span><br><span class="line">classB.prototype = <span class="keyword">new</span> classA();</span><br><span class="line">classB.prototype.constructor = classB;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = <span class="keyword">new</span> classB(<span class="string">&#x27;world&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> c = <span class="keyword">new</span> classB(<span class="string">&#x27;yes&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(b.getName());    <span class="comment">//world</span></span><br><span class="line"><span class="built_in">console</span>.log(c.getName());    <span class="comment">//yes</span></span><br></pre></td></tr></table></figure>



</li>
</ul>
<h3 id="作用域和闭包"><a href="#作用域和闭包" class="headerlink" title="作用域和闭包"></a>作用域和闭包</h3><ul>
<li>知识点<ul>
<li>作用域和自由变量</li>
<li>闭包</li>
<li>this</li>
</ul>
</li>
</ul>
<h4 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h4><p> <a target="_blank" rel="noopener" href="https://blog.csdn.net/wu_xiaozhou/article/details/52832645">JS的解析原理和变量作用域</a></p>
<ul>
<li>全局作用域</li>
<li>函数作用域</li>
<li>块级作用域ES6新增</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ES6块级作用域</span></span><br><span class="line"><span class="function"><span class="title">if</span>(<span class="params"><span class="literal">true</span></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> x =<span class="number">100</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(x);<span class="comment">//error!</span></span><br></pre></td></tr></table></figure>

<ul>
<li>自由变量<ul>
<li>一个变量在当前作用域内没有定义，但是被使用了</li>
<li>向上级作用域，一层一层寻找，直到找到为止</li>
<li>如果全局作用域都没找到，则报错xx is not defined</li>
</ul>
</li>
</ul>
<h4 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h4><p>作用域应用的特殊情况，有两种情况</p>
<ol>
<li>函数作为参数被传递</li>
<li>函数作为返回值被返回</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//函数作为返回值</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">create</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> a = <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> fn = create();</span><br><span class="line"><span class="keyword">let</span> a = <span class="number">200</span>;</span><br><span class="line">fn();<span class="comment">//100</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//函数作为参数被传递</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params">fn</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> a = <span class="number">200</span>;</span><br><span class="line">    fn();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> a = <span class="number">100</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">&#125;</span><br><span class="line">print(fn);<span class="comment">//100</span></span><br></pre></td></tr></table></figure>

<p>闭包：自由变量的查找，是在<strong>函数定义的地方</strong>向上级作用域查找，不是<strong>执行的地方</strong></p>
<h4 id="this"><a href="#this" class="headerlink" title="this"></a>this</h4><ul>
<li>作为普通函数</li>
<li>使用call，apply，bind</li>
<li>作为对象方法被调用</li>
<li>在class方法中被调用</li>
<li>箭头函数</li>
</ul>
<p>this在场景中取什么值是由<strong>函数执行</strong>的时候决定的，不是定义的时候</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">&#125;</span><br><span class="line">fn1();<span class="comment">//Window</span></span><br><span class="line">fn1.call(&#123;<span class="attr">x</span>:<span class="number">200</span>&#125;);<span class="comment">//&#123;x: 200&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fn2 = fn1.bind(&#123;<span class="attr">x</span>:<span class="number">100</span>&#125;);</span><br><span class="line">fn2();<span class="comment">//&#123;x: 100&#125;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a1=&#123;</span><br><span class="line">    name:<span class="string">&quot;a1&quot;</span>;</span><br><span class="line">    <span class="function"><span class="title">sayHi</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">//this 是当前对象</span></span><br><span class="line">		<span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">wait</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        serTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="comment">//this === window</span></span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">this</span>)</span><br><span class="line">            <span class="comment">//作为普通函数被执行</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> a2=&#123;</span><br><span class="line">    name:<span class="string">&quot;a2&quot;</span>;</span><br><span class="line">    <span class="function"><span class="title">sayHi</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">//this 是当前对象</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">waitAgain</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        setTimeOut(<span class="function">() =&gt;</span>&#123;</span><br><span class="line">            <span class="comment">//this 是当前对象</span></span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">this</span>)</span><br><span class="line">            <span class="comment">//箭头函数是呗settimeout触发的</span></span><br><span class="line">           	<span class="comment">//箭头函数的this取上级作用域的值</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">People</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name=name;</span><br><span class="line">        <span class="built_in">this</span>.age=<span class="number">20</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">sayHi</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> zhangsan = <span class="keyword">new</span> People(<span class="string">&#x27;张三&#x27;</span>);</span><br><span class="line">zhangsan.sayHi();<span class="comment">//People &#123;name: &quot;张三&quot;, age: 20&#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h4><ul>
<li><p>this的不同应用场景如何取值</p>
<p>当普通函数被调用，直接返回window</p>
<p>通过call，apply，bind，传入什么就绑定什么</p>
<p>通过对象方法调用，就返回对象本身</p>
<p>在class的方法中调用，返回实例本身</p>
<p>箭头函数，上级作用域的this值</p>
</li>
<li><p>手写bind函数</p>
<p><code>bind()</code> 方法创建一个新的函数，在 <code>bind()</code> 被调用时，这个新函数的 <code>this</code> 被指定为 <code>bind()</code> 的第一个参数，而其余参数将作为新函数的参数，供调用时使用。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params">a,b,c</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;this&#x27;</span>,<span class="built_in">this</span>);	<span class="comment">//this &#123;x: 100&#125;</span></span><br><span class="line">    <span class="built_in">console</span>.log(a,b,c);		<span class="comment">//10 20 30</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;this is fn1&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> fn2 = fn1.bind(&#123;<span class="attr">x</span>:<span class="number">100</span>&#125;,<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>);</span><br><span class="line"><span class="keyword">const</span> result = fn2();</span><br><span class="line"><span class="built_in">console</span>.log(result);  <span class="comment">//this is fn1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">Function</span>.prototype.bind1 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">     <span class="comment">//将参数解析为数组</span></span><br><span class="line">     <span class="keyword">const</span> args = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>);</span><br><span class="line">     </span><br><span class="line">     <span class="comment">//获取this（数组第一项）</span></span><br><span class="line">    <span class="keyword">const</span> t = args.shift();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//fn1.bind(...)中的fn1</span></span><br><span class="line">    <span class="keyword">const</span> self = <span class="built_in">this</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//返回一个函数</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> self.apply(t,args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>实际开发中闭包的应用场景，举例说明</p>
<ul>
<li><p>隐藏数据</p>
</li>
<li><p>比如简单做一个cache的工具</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//闭包隐藏数据，只提供API</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createCache</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> data = &#123;&#125;;<span class="comment">//闭包中的数据，被隐藏，不被外界访问</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        set:<span class="function"><span class="keyword">function</span> (<span class="params">key,val</span>)</span>&#123;</span><br><span class="line">            data[key] = val</span><br><span class="line">        &#125;,</span><br><span class="line">        get:<span class="function"><span class="keyword">function</span> (<span class="params">key</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> data[key]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//作用域只在大括号内，不会被外界访问到</span></span><br><span class="line"><span class="keyword">const</span> c = createCache();</span><br><span class="line">c.set(<span class="string">&#x27;a&#x27;</span>,<span class="number">100</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(c.get(<span class="string">&#x27;a&#x27;</span>));<span class="comment">//100</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>创建10个a标签</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建10个a标签，点击时弹出对应编号</span></span><br><span class="line"><span class="keyword">let</span> a;</span><br><span class="line"><span class="function"><span class="title">for</span>(<span class="params"><span class="keyword">let</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++</span>)</span>&#123;</span><br><span class="line">    a=<span class="built_in">document</span>.createElement(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">    a.innerHTML = i + <span class="string">&#x27;&lt;/br&gt;&#x27;</span>;</span><br><span class="line">    a.addEventListener(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">        e.preventDefault();</span><br><span class="line">        alert(i);</span><br><span class="line">        <span class="comment">//因为这里面的函数不会立马执行，只有被点击的时候才会被执行</span></span><br><span class="line">        <span class="comment">//在这里面执行i的时候，是块级作用域</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(a);</span><br><span class="line"> <span class="comment">//如果在第一行写let i，点击每个a标签都会弹出10</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="原型中的this"><a href="#原型中的this" class="headerlink" title="原型中的this"></a>原型中的this</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xiaoming.sayHi();<span class="comment">//姓名 小明, 学号 1234</span></span><br><span class="line">xiaoming.__proto__.sayHi();<span class="comment">//姓名 undefined， 学号 undefined</span></span><br><span class="line">xiaoming.__proto__.sayHi.call(xiaoming);<span class="comment">//姓名 小明，学号 1234</span></span><br></pre></td></tr></table></figure>

<h4 id="call-apply-bind"><a href="#call-apply-bind" class="headerlink" title="call apply bind"></a>call apply bind</h4><p>call、apply、bind都是改变this指向的方法                 <a target="_blank" rel="noopener" href="https://www.cnblogs.com/cc-freiheit/p/10763492.html">实现</a></p>
<p>call/apply:在功能上完全一致，仅仅是传参方式不一致，这样的好处是在传参个数不一定时，可以使用 apply</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">call(yourObj, arg1, arg2);</span><br><span class="line">apply(yourObj, [arg1, arg2]);</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> common = <span class="string">&#x27;common&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> name = <span class="string">&#x27;global&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  name: <span class="string">&#x27;obj&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">params</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(params + <span class="string">&#x27; &#x27;</span> + <span class="built_in">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">fn(common) <span class="comment">// common global</span></span><br><span class="line">fn.call(obj, common) <span class="comment">// common obj</span></span><br></pre></td></tr></table></figure>

<p>func.bind(yourObj,xxx,xxx) 执行之后会返回一个<strong>新函数</strong>，是 func 函数的副本，不同的是新函数内部 this 永远指向 yourObj，当然这意味着在调用 bind 完成绑定之后，需要手动执行一下这个新函数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">a, b, c</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a, b, c);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> newFn = fn.bind(<span class="literal">null</span>, <span class="string">&#x27;Dot&#x27;</span>);</span><br><span class="line">fn(<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>);      <span class="comment">// A B C</span></span><br><span class="line">newFn(<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>);      <span class="comment">// Dot A B</span></span><br><span class="line">newFn(<span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>);        <span class="comment">// Dot B C</span></span><br></pre></td></tr></table></figure>

<p>可以看到，我们在 bind() 的时候传入了一个参数，新方法的实参都是在 bind 中参数的基础上在往后排。</p>
<h3 id="异步"><a href="#异步" class="headerlink" title="异步"></a>异步</h3><p>知识点</p>
<ul>
<li>单线程和异步</li>
<li>应用场景</li>
<li>callback hell和Promise</li>
</ul>
<h4 id="单线程与异步"><a href="#单线程与异步" class="headerlink" title="单线程与异步"></a>单线程与异步</h4><ul>
<li><p>JS是单线程语言，只能同时做一件事。先加载/先打印，不行</p>
</li>
<li><p>浏览器和nodeJS已支持JS启动进程，比如Web Worker</p>
</li>
<li><p>JS和DOM渲染共用同一个线程，因为JS可以修改DOM结构</p>
</li>
<li><p>遇到等待（网络请求，定时任务）不能卡住</p>
</li>
<li><p>需要异步</p>
</li>
<li><p>回调callback函数形式</p>
</li>
</ul>
<h4 id="异步与同步"><a href="#异步与同步" class="headerlink" title="异步与同步"></a>异步与同步</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//异步 callback 回调函数</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">100</span>);</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">200</span>)</span><br><span class="line">&#125;,<span class="number">1000</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">300</span>);</span><br><span class="line"><span class="comment">//100,300,200</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//同步</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">100</span>);</span><br><span class="line">alert(<span class="number">200</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">300</span>);</span><br><span class="line"><span class="comment">//先出现100，再alert200，不点确认300不出</span></span><br></pre></td></tr></table></figure>

<p>基于JS是单线程语言，异步不会阻塞代码执行，同步会阻塞代码执行</p>
<ul>
<li><p>异步的应用场景</p>
<ul>
<li><p>网络请求，如Ajex, 图片加载等</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Ajex</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;start&#x27;</span>);</span><br><span class="line">$.get(<span class="string">&#x27;./data.json&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">data1</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data1);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;end&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//图片加载</span></span><br><span class="line"><span class="built_in">console</span>.log(;<span class="string">&#x27;start&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> img = <span class="built_in">document</span>.createElement(<span class="string">&#x27;img&#x27;</span>);</span><br><span class="line">img.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;loaded&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line">img.src = <span class="string">&#x27;/xxx.png&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;end&#x27;</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>定时任务，如setTimeout</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//setTimeout</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//setInterval</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">100</span>);</span><br><span class="line"><span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">200</span>);</span><br><span class="line">&#125;,<span class="number">1000</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">300</span>);</span><br></pre></td></tr></table></figure>


</li>
</ul>
</li>
</ul>
<h4 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getData</span>(<span class="params">url</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span>&#123;</span><br><span class="line">        $.ajax(&#123;</span><br><span class="line">            url,</span><br><span class="line">            <span class="function"><span class="title">success</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">                resolve(data)</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="function"><span class="title">error</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">                reject(err)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> url1=<span class="string">&#x27;/data1.json&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> url2=<span class="string">&#x27;/data2.json&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> url3=<span class="string">&#x27;/data3.json&#x27;</span>;</span><br><span class="line">getData(url1).then(<span class="function"><span class="params">data1</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data1);</span><br><span class="line">    <span class="keyword">return</span> getData(url2);</span><br><span class="line">&#125;).then(<span class="function"><span class="params">data2</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data2);</span><br><span class="line">    <span class="keyword">return</span> getData(url3);</span><br><span class="line">&#125;).then(<span class="function"><span class="params">data3</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data3);</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">err</span>=&gt;</span><span class="built_in">console</span>.error(err))<span class="comment">//不是嵌套形式，是平行的，虽然是callback形式，但是是管道式串联的</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>promise不是避免了回调，只是把回调变成了串联形式</p>
<h4 id="题目-1"><a href="#题目-1" class="headerlink" title="题目"></a>题目</h4><ul>
<li><p>同步和异步的区别是什么？</p>
<ul>
<li>基于JS是单线程语言，同步会阻塞代码执行，异步不会阻塞代码执行</li>
</ul>
</li>
<li><p>手写promise加载一张图片</p>
</li>
</ul>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> url=<span class="string">&#x27;https://img2.baidu.com/it/u=3355464299,584008140&amp;fm=26&amp;fmt=auto&amp;gp=0.jpg&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadImg</span>(<span class="params">src</span>)</span>&#123;</span><br><span class="line">   <span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>( 			<span class="comment">//promise要传入一个函数，函数有两个参数，分别是resolve和reject</span></span><br><span class="line">    	(resolve,reject)=&gt;&#123;</span><br><span class="line">            <span class="keyword">const</span> img = <span class="built_in">document</span>.createElement(<span class="string">&#x27;img&#x27;</span>);</span><br><span class="line">            img.onload=<span class="function">()=&gt;</span>&#123;</span><br><span class="line">                resolve(img);<span class="comment">//如果成功</span></span><br><span class="line">            &#125;</span><br><span class="line">            img.onerror=<span class="function">()=&gt;</span>&#123;</span><br><span class="line">                reject(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;图片加载失败 $&#123;src&#125;&#x27;</span>))<span class="comment">//如果失败</span></span><br><span class="line">            &#125;</span><br><span class="line">            img.src = src</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line">  <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">loadImg(url).then(<span class="function"><span class="params">img</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(img.width)</span><br><span class="line">    <span class="keyword">return</span> img</span><br><span class="line">&#125;).then(<span class="function"><span class="params">img</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(img.height)</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">ex</span>=&gt;</span><span class="built_in">console</span>.error(ex))</span><br><span class="line"></span><br><span class="line"><span class="comment">//如果把url改成不正确的地址，会报错：Error: 图片加载失败 $&#123;src&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//如果要先后加载两张图片</span></span><br><span class="line"><span class="keyword">const</span> url1 = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> url2 = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">loadImg(url1).then(<span class="function"><span class="params">img1</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(img1.width);</span><br><span class="line">    <span class="keyword">return</span> img1;	<span class="comment">//return一个普通对象，下一个then里面的普通函数会接收到</span></span><br><span class="line">&#125;).then(<span class="function"><span class="params">img1</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(img1.height);</span><br><span class="line">    <span class="keyword">return</span> loadImg(url2);  </span><br><span class="line">    <span class="comment">//return 一个promise实例，下一个then接受到的会是loadImg(url2)加载后返回的img2(resolve的img对象)</span></span><br><span class="line">&#125;).then(<span class="function"><span class="params">img2</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(img2.width);</span><br><span class="line">    <span class="keyword">return</span> img2;</span><br><span class="line">&#125;).then(<span class="function"><span class="params">img2</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(img2.height);</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">ex</span>=&gt;</span><span class="built_in">console</span>.log(ex))</span><br></pre></td></tr></table></figure>

<ul>
<li><p>前端异步的使用场景（等待的场景）</p>
<p>网络请求，如ajax图片加载</p>
<p>定时任务，如setTimeout</p>
<ul>
<li><p>setTimeout题：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">&#125;,<span class="number">1000</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">3</span>);</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">4</span>)</span><br><span class="line">&#125;,<span class="number">0</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">5</span>);</span><br><span class="line"><span class="comment">//1354  1</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>手写简单promise</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 模拟一个简单的异步行为 */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fetchData</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            resolve(<span class="string">&#x27;hi&#x27;</span>);</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fetchData().then(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// after 1000ms</span></span><br><span class="line">    <span class="built_in">console</span>.log(data); <span class="comment">// hi</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;hi2&#x27;</span>;</span><br><span class="line">&#125;, <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;&#125;).then(<span class="function">(<span class="params">data2</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data2); <span class="comment">// hi2</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<h3 id="异步进阶"><a href="#异步进阶" class="headerlink" title="异步进阶"></a>异步进阶</h3><ul>
<li>描述event-loop的机制，可画图</li>
<li>什么是宏任务和微任务，有什么区别</li>
<li>Promise有哪三种状态，如何变化</li>
</ul>
<h4 id="Event-loop"><a href="#Event-loop" class="headerlink" title="Event loop"></a>Event loop</h4><p>事件循环/事件轮询</p>
<p>JS是单线程运行的,异步是要基于回调来实现的，event loop是异步回调的实现原理</p>
<p>JS如何执行？从前到后一行行执行，如果某一行执行报错，就停止下面代码的执行；先执行同步代码，再执行异步</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;hi&#x27;</span>);</span><br><span class="line"><span class="function"><span class="title">setTimeout</span>(<span class="params"><span class="keyword">function</span> cb1()</span>)</span>&#123;</span><br><span class="line">           <span class="built_in">console</span>.log(<span class="string">&#x27;cb1&#x27;</span>);</span><br><span class="line">           &#125;,<span class="number">5000</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;bye&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>总结event loop过程</p>
<ul>
<li>同步代码，一行一行放在Call Stack执行</li>
<li>遇到异步，会先<strong>记录</strong>下，等待时机（定时器，网络请求等）</li>
<li>时机到了，就放到call back queue里面</li>
<li>若call stack为空（即同步代码执行完了），event loop开始工作</li>
<li>轮询查找call back queue，如果有，就移动到call stack执行</li>
<li> 然后继续轮训查找 </li>
</ul>
<p>Call Stack执行→web API处理异步→ Event loop当callstack为空的时候去Queue里找，找到后推进call stack里执行</p>
<h4 id="DOM事件与event-loop"><a href="#DOM事件与event-loop" class="headerlink" title="DOM事件与event loop"></a>DOM事件与event loop</h4><ul>
<li>js单线程</li>
<li>异步（setTimeout，ajax等）使用回调，基于event loop</li>
<li>DOM事件也使用回调，基于event loop</li>
<li>但DOM事件不是异步</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;hi&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> btn1=<span class="built_in">document</span>.getElementById(<span class="string">&#x27;btn1&#x27;</span>)</span><br><span class="line">btn1.onclick(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;clicked&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;bye&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//onclick在程序开始后打印完hi就立马执行了，点击后才会执行console.log的回调函数，未点击时会暂存在WebAPI里，什么时候点击了，什么时候放进callback queue，然后通过event loop到call stack里执行</span></span><br></pre></td></tr></table></figure>

<h4 id="Promise的三种状态"><a href="#Promise的三种状态" class="headerlink" title="Promise的三种状态"></a>Promise的三种状态</h4><p>pending resolved rejected</p>
<p>pending–&gt; resolved            pending –&gt;rejected</p>
<p>变化不可逆</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;p1&#x27;</span>,p1) <span class="comment">//pending</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p2 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        resolve()</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;p2&#x27;</span>,p2)	<span class="comment">//pending 一开始打印的时候</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span> <span class="built_in">console</span>.log(<span class="string">&#x27;p2-setTimeout&#x27;</span>,p2))<span class="comment">//resolved</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p3 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        resolve()</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;p3&#x27;</span>,p3)	<span class="comment">//pending 一开始打印的时候</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span> <span class="built_in">console</span>.log(<span class="string">&#x27;p3-setTimeout&#x27;</span>,p3))<span class="comment">//rejected</span></span><br><span class="line"><span class="comment">//从pending变化：执行了resolve/reject的函数</span></span><br></pre></td></tr></table></figure>

<p>状态的表现：</p>
<ul>
<li>pending状态，不会触发then和catch</li>
<li>resolved状态会触发then回调函数</li>
<li>rejected会触发catch回调函数</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p1 = <span class="built_in">Promise</span>.resolve(<span class="number">100</span>)<span class="comment">//resolved状态的promise</span></span><br><span class="line">p1.then(<span class="function"><span class="params">data</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;data&#x27;</span>,data)</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;err&#x27;</span>,err)</span><br><span class="line">&#125;)<span class="comment">//data 100</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p2 = <span class="built_in">Promise</span>.reject(<span class="string">&#x27;err&#x27;</span>) <span class="comment">//rejected状态的promise</span></span><br><span class="line">p2.then(<span class="function"><span class="params">data</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;data2&#x27;</span>,data)</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;err2&#x27;</span>,err)</span><br><span class="line">&#125;)<span class="comment">//err2 err</span></span><br></pre></td></tr></table></figure>

<p><strong>then和catch改变状态</strong></p>
<p>then正常返回resolved，里面有报错则返回rejected</p>
<p>catch正常返回resolved，里面有报错则返回rejected</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p3 = <span class="built_in">Promise</span>.reject(<span class="string">&#x27;my error&#x27;</span>).catch(<span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.error(err)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;p3&#x27;</span>,p3)<span class="comment">//resolved状态，之后会触发then回调</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p4 = <span class="built_in">Promise</span>.reject(<span class="string">&#x27;my error&#x27;</span>).catch(<span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;catch err&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;p4&#x27;</span>,p4)<span class="comment">//rejected状态，之后会触发catch回调</span></span><br></pre></td></tr></table></figure>

<p><strong>题目</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.resolve().then(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">&#125;).catch(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">&#125;).then(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">&#125;)<span class="comment">//1, 3</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.resolve().then(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;err1&#x27;</span>)		<span class="comment">//rejected状态，执行catch</span></span><br><span class="line">&#125;).catch(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">&#125;).then(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">&#125;)<span class="comment">//1， 2， 3</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.resolve().then(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;err2&#x27;</span>)		<span class="comment">//rejected状态，执行catch</span></span><br><span class="line">&#125;).catch(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">&#125;).catch(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">&#125;)<span class="comment">//1.  2</span></span><br></pre></td></tr></table></figure>

<h4 id="async-await"><a href="#async-await" class="headerlink" title="async/await"></a>async/await</h4><ul>
<li>异步回调 callback hell</li>
<li>Promise then catch 链式调用，但也是基于回调函数的</li>
<li>async/await是同步语法，彻底消灭回调函数</li>
</ul>
<p><strong>async/await和promise的关系</strong></p>
<ul>
<li>执行async函数，返回的是Promise对象</li>
<li>await相当于Promise的then</li>
<li>try…catch可以捕获异常，代替了promise的catch</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">100</span>;		<span class="comment">//相当于返回Promise.resolve(100)</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> res1 = fn1();	<span class="comment">//执行async函数，返回的是一个promise对象</span></span><br><span class="line"><span class="comment">//如果返回的是值，就封装成一个promise对象返回，如果返回的是promise，就直接返回promise对象</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;res1&#x27;</span>,res1); <span class="comment">// Promise对象，resolved状态</span></span><br><span class="line">res1.then(<span class="function"><span class="params">data</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;data&#x27;</span>,data);<span class="comment">//data 100</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">(<span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> p1 = <span class="built_in">Promise</span>.resolve(<span class="number">200</span>);</span><br><span class="line">    <span class="keyword">const</span> data = <span class="keyword">await</span> p1; <span class="comment">//await 相当于then</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;data&#x27;</span>,data)	<span class="comment">//data 200</span></span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line">(<span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> data1 = <span class="keyword">await</span> <span class="number">300</span>; <span class="comment">//await Promise.resolve(300)，会自动封装</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;data1&#x27;</span>,data)	<span class="comment">//data1 300</span></span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line">(<span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> data2 = <span class="keyword">await</span> fn1(); <span class="comment">//await 相当于调用Promise对象，跟第一种没有区别</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;data2&#x27;</span>,data2)	<span class="comment">//data2 100</span></span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">(<span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> p4 = <span class="built_in">Promise</span>.reject(<span class="string">&#x27;err&#x27;</span>); <span class="comment">//rejected状态</span></span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        <span class="keyword">const</span> res = <span class="keyword">await</span> p4;</span><br><span class="line">        <span class="built_in">console</span>.log(res)</span><br><span class="line">    &#125;<span class="function"><span class="title">catch</span>(<span class="params">ex</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.error(<span class="string">&#x27;ex&#x27;</span>);<span class="comment">//try...catch相当于promise的catch</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>async-await是语法糖，异步的本质还是回调函数</strong></p>
<p>async/await消灭异步回调，但js还是单线程，还是有异步，依然基于event loop</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async1</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;async1 start&#x27;</span>)		<span class="comment">//2</span></span><br><span class="line">  <span class="keyword">await</span> async2()</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;async1 end&#x27;</span>) 		<span class="comment">//5</span></span><br><span class="line">    <span class="comment">// 关键在这一步，它相当于放在 callback 中，最后执行。await后面的东西都可以看做callback的内容，也就是异步</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async2</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;async2&#x27;</span>)		<span class="comment">//3</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;script start&#x27;</span>)		<span class="comment">//1</span></span><br><span class="line">async1()</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;script end&#x27;</span>)		<span class="comment">//4		同步代码在这里已经执行完成</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line">(<span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> a=fn()<span class="comment">//Promise</span></span><br><span class="line">    <span class="keyword">const</span> b=<span class="keyword">await</span> fn()<span class="comment">//100</span></span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;start&#x27;</span>)	<span class="comment">//start</span></span><br><span class="line">    <span class="keyword">const</span> a = <span class="keyword">await</span> <span class="number">100</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;a&#x27;</span>,a)	<span class="comment">//a 100</span></span><br><span class="line">	<span class="keyword">const</span> b = <span class="keyword">await</span> <span class="built_in">Promise</span>.resolve(<span class="number">200</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;b&#x27;</span>,b)	<span class="comment">//b 200</span></span><br><span class="line">    <span class="keyword">const</span> c = <span class="keyword">await</span> <span class="built_in">Promise</span>.reject(<span class="number">300</span>)		<span class="comment">//报错</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;c&#x27;</span>,c)		<span class="comment">//不执行</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;end&#x27;</span>)		<span class="comment">//不执行</span></span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure>



<h4 id="for…of"><a href="#for…of" class="headerlink" title="for…of"></a>for…of</h4><ul>
<li>for…in 和 forEach for是常规的同步遍历</li>
<li>for…of常用于异步遍历</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定时算乘法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">multi</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            resolve(num * num)</span><br><span class="line">        &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;) </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// // 使用 forEach ，是 1s 之后打印出所有结果，即 3 个值是一起被计算出来的</span></span><br><span class="line"><span class="comment">// function test1 () &#123;</span></span><br><span class="line"><span class="comment">//     const nums = [1, 2, 3];</span></span><br><span class="line"><span class="comment">//     nums.forEach(async x =&gt; &#123;</span></span><br><span class="line"><span class="comment">//         const res = await multi(x);</span></span><br><span class="line"><span class="comment">//         console.log(res);</span></span><br><span class="line"><span class="comment">//     &#125;)</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// test1();</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 for...of ，可以让计算挨个串行执行</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">test2</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> nums = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> x <span class="keyword">of</span> nums) &#123;	<span class="comment">//有顺序</span></span><br><span class="line">        <span class="comment">// 在 for...of 循环体的内部，遇到 await 会挨个串行计算</span></span><br><span class="line">        <span class="keyword">const</span> res = <span class="keyword">await</span> multi(x)</span><br><span class="line">        <span class="built_in">console</span>.log(res)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">test2()</span><br></pre></td></tr></table></figure>

<h4 id="宏任务与微任务"><a href="#宏任务与微任务" class="headerlink" title="宏任务与微任务"></a>宏任务与微任务</h4><p>macroTask：setTimeout, setInterval, Ajax, DOM事件</p>
<p>microTask:  Promise async/await</p>
<p>微任务执行时机比宏任务要早</p>
<p><strong>event loop和DOM渲染</strong></p>
<p>JS是单线程的，且和DOM渲染共用一个线程，当JS执行的时候，要留给DOM渲染一些时机</p>
<ol>
<li>call stack 空闲，每次call stack轮训结束</li>
<li>尝试DOM渲染（不一定非得渲染，就是给一次 DOM 渲染的机会）</li>
<li>触发event loop</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> $p1 = $(<span class="string">&#x27;&lt;p&gt;一段文字&lt;/p&gt;&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> $p2 = $(<span class="string">&#x27;&lt;p&gt;一段文字&lt;/p&gt;&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> $p3 = $(<span class="string">&#x27;&lt;p&gt;一段文字&lt;/p&gt;&#x27;</span>)</span><br><span class="line">$(<span class="string">&#x27;#container&#x27;</span>)</span><br><span class="line">            .append($p1)</span><br><span class="line">            .append($p2)</span><br><span class="line">            .append($p3)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;length&#x27;</span>,  $(<span class="string">&#x27;#container&#x27;</span>).children().length )</span><br><span class="line">alert(<span class="string">&#x27;本次 call stack 结束，DOM 结构已更新，但尚未触发渲染&#x27;</span>)</span><br><span class="line"><span class="comment">// （alert 会阻断 js 执行，也会阻断 DOM 渲染，便于查看效果）</span></span><br><span class="line"><span class="comment">// 到此，即本次 call stack 结束后（同步任务都执行完了），浏览器会自动触发渲染，不用代码干预</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 另外，按照 event loop 触发 DOM 渲染时机，setTimeout 时 alert ，就能看到 DOM 渲染后的结果了</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">&#x27;setTimeout 是在下一次 Call Stack ，就能看到 DOM 渲染出来的结果了&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>宏任务：DOM 渲染后再触发</li>
<li>微任务：DOM 渲染前会触发</li>
</ul>
<p>执行Promise在等待时机时，放在micro task queue里，而不是callback queue里，而且不会经过WebAPI, 因为Promise是ES规范，不是W3C规范</p>
<ul>
<li><p>宏任务：浏览器规定的</p>
</li>
<li><p>微任务：ES6语法规定的</p>
</li>
<li><p>微任务：ES 语法标准之内，JS 引擎来统一处理。即，不用浏览器有任何关于，即可一次性处理完，更快更及时。</p>
</li>
<li><p>宏任务：ES 语法没有，JS 引擎不处理，浏览器（或 nodejs）干预处理。、</p>
</li>
</ul>
<p><img src="https://res.cloudinary.com/drx6hbrzu/image/upload/v1621781359/VX_OV51JHY7_C_0YH37CBSO_fdecs5.png"></p>
<p>promise和setTimeout执行顺序的问题</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="built_in">console</span>.log(<span class="number">1</span>)&#125;,<span class="number">0</span>);</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">    <span class="function"><span class="title">for</span>(<span class="params"> <span class="keyword">var</span> i=<span class="number">0</span> ; i&lt;<span class="number">10000</span> ; i++ </span>)</span>&#123;</span><br><span class="line">        i==<span class="number">9999</span> &amp;&amp; resolve()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">4</span>)</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">5</span>);</span><br><span class="line"><span class="comment">//2,3,5,4,1</span></span><br></pre></td></tr></table></figure>

<p>Javascript是单线程的，所有的同步任务都会在主线程中执行。</p>
<p>当主线程中的任务，都执行完之后，系统会 “依次” 读取任务队列里的事件。与之相对应的异步任务进入主线程，开始执行。</p>
<p>异步任务之间，会存在差异，所以它们执行的优先级也会有区别。大致分为 <strong>微任务</strong>（micro task，如：Promise、MutaionObserver等）和<strong>宏任务</strong>（macro task，如：setTimeout、setInterval、I/O等）。</p>
<p>Promise 执行器中的代码会被同步调用，但是<strong>回调</strong>是基于<strong>微任务</strong>的。</p>
<p>宏任务的优先级高于微任务</p>
<p>每一个宏任务执行完毕都必须将当前的微任务队列清空</p>
<p>第一个 script 标签的代码是第一个宏任务</p>
<p>主线程会不断重复上面的步骤，直到执行完所有任务。</p>
<p>所有的代码都写在script标签中，所以<strong>读取所有代码是第一个宏任务</strong>，我们开始执行第一个宏任务。</p>
<p>我们首先遇到<strong>setTimeout</strong>，他是<strong>第二个宏任务</strong>，将它扔进宏任务事件队列里先排队。</p>
<p>下来我们遇到<strong>promise</strong>，promise执行器里的代码会被<strong>同步调用</strong>，所以我们依次打印出2和3。</p>
<p>下来遇到<strong>promise的回调</strong>，他是一个微任务，将它扔进<strong>微任务事件队列</strong>中。</p>
<p>下来我们接着打印出5，然后<strong>执行微任务</strong>并且打印出4.</p>
<p>我们<strong>第一个宏任务执行完毕</strong>，执行<strong>下一个宏任务</strong>，打印出1，到此，所有任务都执行完毕。</p>
<p>所以我们最后的结果为2 3 5 4 1。</p>
<h3 id="解构赋值"><a href="#解构赋值" class="headerlink" title="解构赋值"></a><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment">解构赋值</a></h3><p><strong>解构赋值</strong>语法是一种 Javascript 表达式。通过<strong>解构赋值,</strong> 可以将属性/值从对象/数组中取出,赋值给其他变量。</p>
<h3 id="JS-WEB-API-DOM"><a href="#JS-WEB-API-DOM" class="headerlink" title="JS-WEB-API-DOM"></a>JS-WEB-API-DOM</h3><ul>
<li>JS 基础知识，规定语法（ECMA262标准）</li>
<li>JS Web API，网页操作的API（W3C标准）</li>
</ul>
<p><strong>DOM是什么</strong></p>
<ul>
<li>vue和React框架应用广泛，封装了DOM操作</li>
<li>但DOM操作是基础</li>
</ul>
<p>Document Object Model</p>
<h4 id="DOM节点操作"><a href="#DOM节点操作" class="headerlink" title="DOM节点操作"></a>DOM节点操作</h4><ul>
<li>获取DOM节点</li>
<li>attribute</li>
<li>property</li>
</ul>
<h3 id="JS-WEB-API-事件"><a href="#JS-WEB-API-事件" class="headerlink" title="JS-WEB-API-事件"></a>JS-WEB-API-事件</h3><p><strong>事件绑定</strong></p>
<hr>
<h1 id="COMPUTER-NETWORK"><a href="#COMPUTER-NETWORK" class="headerlink" title="COMPUTER NETWORK"></a>COMPUTER NETWORK</h1><h2 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h2><h3 id="HTTP和HTTPS的基本概念"><a href="#HTTP和HTTPS的基本概念" class="headerlink" title="HTTP和HTTPS的基本概念"></a>HTTP和HTTPS的基本概念</h3><p>　　HTTP：是互联网上应用最为广泛的一种网络协议，是一个客户端和服务器端请求和应答的标准（TCP），用于从WWW服务器传输超文本到本地浏览器的传输协议，它可以使浏览器更加高效，使网络传输减少。</p>
<p>　　HTTPS：是以安全为目标的HTTP通道，简单讲是HTTP的安全版，即HTTP下加入SSL（Secure Sockets Layer）层，HTTPS的安全基础是SSL，因此加密的详细内容就需要SSL。</p>
<p>　客户端在使用HTTPS方式与Web服务器通信时有以下几个步骤</p>
<ul>
<li>客户使用https的URL访问Web服务器，要求与Web服务器建立SSL连接。</li>
<li>Web服务器收到客户端请求后，会将网站的证书信息（证书中包含公钥）传送一份给客户端。</li>
<li>客户端的浏览器与Web服务器开始协商SSL连接的安全等级，也就是信息加密的等级。</li>
<li>客户端的浏览器根据双方同意的安全等级，建立会话密钥，然后利用网站的公钥将会话密钥加密，并传送给网站。</li>
<li>Web服务器利用自己的私钥解密出会话密钥。</li>
<li>Web服务器利用会话密钥加密与客户端之间的通信。</li>
</ul>
<p><strong>HTTP请求头和响应头</strong></p>
<p>HTTP 请求报文由3部分组成(请求行+请求头+请求体)</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/glpghz/article/details/106063833">HTTP1.0,2.0,3.0 HTTPS</a></p>
<p><strong>HTTP2的多路复用</strong></p>
<p>在 HTTP/1 中，每次请求都会建立一次HTTP连接，也就是我们常说的3次握手4次挥手，这个过程在一次请求过程中占用了相当长的时间，即使开启了 Keep-Alive ，解决了多次连接的问题，但是依然有两个效率上的问题：</p>
<ul>
<li>第一个：串行的文件传输。当请求a文件时，b文件只能等待，等待a连接到服务器、服务器处理文件、服务器返回文件，这三个步骤。我们假设这三步用时都是1秒，那么a文件用时为3秒，b文件传输完成用时为6秒，依此类推。（注：此项计算有一个前提条件，就是浏览器和服务器是单通道传输）</li>
<li>第二个：连接数过多。我们假设Apache设置了最大并发数为300，因为浏览器限制，浏览器发起的最大请求数为6，也就是服务器能承载的最高并发为50，当第51个人访问时，就需要等待前面某个请求处理完成。</li>
</ul>
<p>HTTP/2的多路复用就是为了解决上述的两个性能问题。<br>在 HTTP/2 中，有两个非常重要的概念，分别是帧（frame）和流（stream）。<br>帧代表着最小的数据单位，每个帧会标识出该帧属于哪个流，流也就是多个帧组成的数据流。<br>多路复用，就是在一个 TCP 连接中可以存在多条流。换句话说，也就是可以发送多个请求，对端可以通过帧中的标识知道属于哪个请求。通过这个技术，可以避免 HTTP 旧版本中的队头阻塞问题，极大的提高传输性能。</p>
<ul>
<li>基于 https，安全性更有保证</li>
<li>使用二进制格式，比以前基于文本的传输更具普适性</li>
<li>多路复用，是以前长连接的增强</li>
</ul>
<h3 id="DNS"><a href="#DNS" class="headerlink" title="DNS"></a>DNS</h3><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/yrx420909/article/details/102835945">DNS 域名解析</a></p>
<p>当一个用户在地址栏输入<a href="http://www.baidu.com时，DNS解析有大致十个过程，如下：">www.baidu.com时，DNS解析有大致十个过程，如下：</a></p>
<ol>
<li><p>浏览器先检查<strong>自身缓存</strong>中有没有被解析过的这个域名对应的ip地址，如果有，解析结束。同时域名被缓存的时间也可通过<strong>TTL属性</strong>来设置。</p>
</li>
<li><p>如果浏览器缓存中没有（专业点叫还没命中），浏览器会检查操作系统缓存中有没有对应的已解析过的结果。而操作系统也有一个域名解析的过程。在windows中可通过c盘里一个叫hosts的文件来设置，如果你在这里指定了一个域名对应的ip地址，那浏览器会首先使用这个ip地址。</p>
</li>
<li><p>如果至此还没有命中域名，才会真正的请求<strong>本地域名服务器（LDNS）</strong>来解析这个域名，这台服务器一般在你的城市的某个角落，距离你不会很远，并且这台服务器的性能都很好，一般都会缓存域名解析结果，大约80%的域名解析到这里就完成了。</p>
</li>
<li><p>如果LDNS仍然没有命中，就直接跳到Root Server <strong>域名服务器</strong>请求解析</p>
</li>
<li><p><strong>根域名服务器</strong>返回给LDNS一个所查询域的<strong>主域名服务器</strong>（gTLD Server，国际顶尖域名服务器，如.com .cn .org等）<strong>地址</strong></p>
</li>
<li><p>此时LDNS再发送请求给上一步返回的gTLD</p>
</li>
<li><p>接受请求的gTLD查找并返回<strong>这个域名对应的Name Server的地址</strong>，这个Name Server就是网站注册的域名服务器</p>
</li>
<li><p>Name Server根据映射关系表找到<strong>目标ip</strong>，返回给LDNS</p>
</li>
<li><p>LDNS缓存这个域名和对应的ip</p>
</li>
<li><p>LDNS把解析的结果返回给用户，用户根据TTL值缓存到本地系统缓存中，域名解析过程至此结束</p>
</li>
</ol>
<h3 id="UDP-amp-TCP"><a href="#UDP-amp-TCP" class="headerlink" title="UDP&amp;TCP"></a>UDP&amp;TCP</h3><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/greentealc/article/details/79880220">TCP+UDP</a></p>
<h3 id="状态码"><a href="#状态码" class="headerlink" title="状态码"></a>状态码</h3><p>1：消息，临时响应，代表请求已被接受，需要继续处理</p>
<p>2：成功，代表请求已成功被服务器接收、理解、并接受。</p>
<p>3：重定向，后续的请求地址（重定向目标）在本次响应的 Location 域中指明。</p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/HTTP_301">301 Moved Permanently</a></p>
<p>被请求的资源已<strong>永久移动</strong>到新位置，并且将来任何对此资源的引用都应该使用本响应返回的若干个 URI 之一。</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/HTTP_302">302 Found</a></p>
<p>要求客户端执行<strong>临时重定向</strong>（原始描述短语为“Moved Temporarily”）</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/HTTP_303">303 See Other</a></p>
<p>对应当前请求的响应可以在另一个 URI 上被找到</p>
</li>
<li><p><strong>304 Not Modified</strong></p>
<p>未修改。所请求的资源未修改，服务器返回此状态码时，不会返回任何资源。</p>
<p>表示资源在由请求头中的<code>If-Modified-Since</code>或<code>If-None-Match</code>参数指定的这一版本之后，未曾被修改。在这种情况下，由于客户端仍然具有以前下载的副本，因此不需要重新传输资源。</p>
<p>注：与协商缓存有关</p>
</li>
<li><p>305 Use Proxy</p>
<p>被请求的资源必须通过指定的<strong>代理</strong>才能被访问。Location 域中将给出指定的代理所在的 URI 信息，接收者需要重复发送一个单独的请求，通过这个代理才能访问相应资源。</p>
</li>
</ul>
<p>4：客户端错误</p>
<ul>
<li>400 Bad Request</li>
</ul>
<p>由于明显的客户端错误（例如，格式错误的请求语法，太大的大小，无效的请求消息或欺骗性路由请求），服务器不能或不会处理该请求。</p>
<ul>
<li>401 Unauthorized</li>
</ul>
<p>未认证，类似于 403 Forbidden</p>
<ul>
<li><strong>404 Not Found</strong></li>
<li><strong>405 Method Not Allowed</strong></li>
<li><strong>418 I’m a teapot</strong></li>
</ul>
<p>5：服务器错误</p>
<ul>
<li>500 Internal Server Error</li>
</ul>
<p>通用错误消息，服务器遇到了一个未曾预料的状况，导致了它无法完成对请求的处理。没有给出具体错误信息。</p>
<ul>
<li>502 Bad Gateway</li>
</ul>
<p>作为<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%BD%91%E5%85%B3">网关</a>或者<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E5%99%A8">代理</a>工作的服务器尝试执行请求时，从上游服务器接收到无效的响应。</p>
<ul>
<li><p>503 Service Unavailable</p>
<p>由于临时的服务器维护或者<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E9%81%8E%E8%BC%89">过载</a>，服务器当前无法处理请求。这个状况是暂时的，并且将在一段时间以后恢复。</p>
</li>
<li><p>504 Gateway Timeout</p>
<p>作为网关或者代理工作的服务器尝试执行请求时，未能及时从上游服务器（URI 标识出的服务器，例如<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/HTTP">HTTP</a>、<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/FTP">FTP</a>、<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/LDAP">LDAP</a>）或者辅助服务器（例如<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/DNS">DNS</a>）收到响应。</p>
</li>
</ul>
<h3 id="请求类型"><a href="#请求类型" class="headerlink" title="请求类型"></a>请求类型</h3><ul>
<li>get：请求资源，可以使用缓存</li>
<li>Post：提交数据，POST 产生两个 TCP 数据包，浏览器先发送 header，服务器响应 100 continue，浏览器再发送 data，服务器响应 200 ok（返回数据），不能使用缓存</li>
<li>Put：更新资源</li>
<li>Delete：删除资源</li>
<li>Options：返回某资源所支持的 HTTP 请求方法</li>
<li>Trace：回显服务器收到的请求，主要用于测试或诊断</li>
<li>Connect：HTTP/1.1 协议中预留给能够将连接改为管道方式的代理服务器</li>
</ul>
<h2 id="浏览器"><a href="#浏览器" class="headerlink" title="浏览器"></a>浏览器</h2><h3 id="从输入URL到页面加载完成"><a href="#从输入URL到页面加载完成" class="headerlink" title="从输入URL到页面加载完成"></a><a target="_blank" rel="noopener" href="https://www.cnblogs.com/liutianzeng/p/10456865.html">从输入URL到页面加载完成</a></h3><p>　　1、浏览器的地址栏输入URL并按下回车。</p>
<p>　　2、浏览器查找当前URL是否存在缓存，并比较缓存是否过期。</p>
<p>　　3、DNS解析URL对应的IP。</p>
<p>　　4、根据IP建立TCP连接（三次握手）。</p>
<p>　　5、HTTP发起请求。</p>
<p>　　6、服务器处理请求，浏览器接收HTTP响应。</p>
<p>　　7、渲染页面，构建DOM树。</p>
<p>　　8、关闭TCP连接（四次挥手）。</p>
<p>页面加载时，大致可以分为以下几个步骤：</p>
<ol>
<li>　　开始解析HTML文档结构</li>
<li>　　加载外部样式表及JavaScript脚本</li>
<li>　　解析执行JavaScript脚本</li>
<li>　　DOM树渲染完成</li>
<li>　　加载未完成的外部资源（如 图片）</li>
<li>页面加载成功</li>
</ol>
<h3 id="浏览器存储方式：Cookie、SessionStorage、LocalStorage"><a href="#浏览器存储方式：Cookie、SessionStorage、LocalStorage" class="headerlink" title="浏览器存储方式：Cookie、SessionStorage、LocalStorage"></a>浏览器存储方式：Cookie、SessionStorage、LocalStorage</h3><p>共同点：都是存储在浏览器端</p>
<p>不同点：</p>
<ul>
<li><p>cookie 可以在浏览器和服务器中来回传递的，而余下两者是只在本地保存的。</p>
</li>
<li><p>可存储数据的大小不一样，cookie 数据不能超过 4k，剩下的就比较大了，大概是在 5M 左右。</p>
</li>
<li><p>数据有效期不一样，sessionStorage 当关闭浏览器的时候就失效了，localStorage 一直有效，需要手动清</p>
<p>除，而 cookie 只在有效期之内一直有效。</p>
</li>
<li><p>作用域不一样，localStorage、cookie 在所有同源窗口中都是共享的，sessionStorage 是某个窗口私有</p>
<p>的。</p>
</li>
</ul>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/%E5%9F%BA%E7%A1%80%E7%BC%96%E7%A8%8B%E7%9F%A5%E8%AF%86%E5%AD%A6%E4%B9%A0/" rel="tag"># 基础编程知识学习</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2021/02/18/TCP%E8%BF%9E%E6%8E%A5-%E5%AD%A6%E4%B9%A0/" rel="next" title="TCP连接 学习">
                <i class="fa fa-chevron-left"></i> TCP连接 学习
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2021/03/01/%E6%89%98%E7%A6%8F%E5%AD%A6%E4%B9%A0/" rel="prev" title="托福学习">
                托福学习 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
    </div>
  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.png"
                alt="" />
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives%7C%7C%20archive">
              
                  <span class="site-state-item-count">16</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">6</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/lzhello" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:lzhelloo@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E4%B8%AD%E7%9A%84%E9%87%8D%E8%A6%81%E8%80%83%E7%82%B9"><span class="nav-text">前端面试中的重要考点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9D%A2%E8%AF%95%E9%A2%98%E4%BD%93%E9%AA%8C"><span class="nav-text">面试题体验</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9D%A2%E8%AF%95%E5%87%86%E5%A4%87"><span class="nav-text">面试准备</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#HTML-CSS"><span class="nav-text">HTML+CSS</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#HTML"><span class="nav-text">HTML</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CSS"><span class="nav-text">CSS</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%83%E5%B1%80"><span class="nav-text">布局</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9A%E4%BD%8D"><span class="nav-text">定位</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9B%BE%E6%96%87%E6%A0%B7%E5%BC%8F"><span class="nav-text">图文样式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%93%8D%E5%BA%94%E5%BC%8F"><span class="nav-text">响应式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B6%E4%BB%96"><span class="nav-text">其他</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#JavaScript"><span class="nav-text">JavaScript</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ES6"><span class="nav-text">ES6</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#es6Map%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%E5%8F%8A%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%B7%B1%E7%9A%84Map%E6%96%B9%E6%B3%95"><span class="nav-text">es6Map实现原理及实现自己的Map方法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B%E5%92%8C%E8%AE%A1%E7%AE%97"><span class="nav-text">变量类型和计算</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#typeof%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-text">typeof运算符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B7%B1%E6%8B%B7%E8%B4%9D"><span class="nav-text">深拷贝</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%98%E9%87%8F%E8%AE%A1%E7%AE%97%EF%BC%88%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%EF%BC%89"><span class="nav-text">变量计算（类型转换）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%98%E9%87%8F%E6%8F%90%E5%8D%87"><span class="nav-text">变量提升</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8E%9F%E5%9E%8B%E5%92%8C%E5%8E%9F%E5%9E%8B%E9%93%BE"><span class="nav-text">原型和原型链</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%BB%A7%E6%89%BF"><span class="nav-text">继承</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%E5%88%A4%E6%96%AD-instanceof"><span class="nav-text">类型判断 instanceof</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8E%9F%E5%9E%8B%E7%9B%B8%E5%85%B3%E9%9D%A2%E8%AF%95%E9%A2%98"><span class="nav-text">原型相关面试题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%92%8C%E9%97%AD%E5%8C%85"><span class="nav-text">作用域和闭包</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="nav-text">作用域</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%97%AD%E5%8C%85"><span class="nav-text">闭包</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#this"><span class="nav-text">this</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE"><span class="nav-text">题目</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8E%9F%E5%9E%8B%E4%B8%AD%E7%9A%84this"><span class="nav-text">原型中的this</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#call-apply-bind"><span class="nav-text">call apply bind</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BC%82%E6%AD%A5"><span class="nav-text">异步</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8D%95%E7%BA%BF%E7%A8%8B%E4%B8%8E%E5%BC%82%E6%AD%A5"><span class="nav-text">单线程与异步</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%82%E6%AD%A5%E4%B8%8E%E5%90%8C%E6%AD%A5"><span class="nav-text">异步与同步</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Promise"><span class="nav-text">Promise</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%98%E7%9B%AE-1"><span class="nav-text">题目</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BC%82%E6%AD%A5%E8%BF%9B%E9%98%B6"><span class="nav-text">异步进阶</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Event-loop"><span class="nav-text">Event loop</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#DOM%E4%BA%8B%E4%BB%B6%E4%B8%8Eevent-loop"><span class="nav-text">DOM事件与event loop</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Promise%E7%9A%84%E4%B8%89%E7%A7%8D%E7%8A%B6%E6%80%81"><span class="nav-text">Promise的三种状态</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#async-await"><span class="nav-text">async&#x2F;await</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#for%E2%80%A6of"><span class="nav-text">for…of</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%8F%E4%BB%BB%E5%8A%A1%E4%B8%8E%E5%BE%AE%E4%BB%BB%E5%8A%A1"><span class="nav-text">宏任务与微任务</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC"><span class="nav-text">解构赋值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JS-WEB-API-DOM"><span class="nav-text">JS-WEB-API-DOM</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#DOM%E8%8A%82%E7%82%B9%E6%93%8D%E4%BD%9C"><span class="nav-text">DOM节点操作</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JS-WEB-API-%E4%BA%8B%E4%BB%B6"><span class="nav-text">JS-WEB-API-事件</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#COMPUTER-NETWORK"><span class="nav-text">COMPUTER NETWORK</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTP"><span class="nav-text">HTTP</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP%E5%92%8CHTTPS%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="nav-text">HTTP和HTTPS的基本概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DNS"><span class="nav-text">DNS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#UDP-amp-TCP"><span class="nav-text">UDP&amp;TCP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%8A%B6%E6%80%81%E7%A0%81"><span class="nav-text">状态码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AF%B7%E6%B1%82%E7%B1%BB%E5%9E%8B"><span class="nav-text">请求类型</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8"><span class="nav-text">浏览器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%8E%E8%BE%93%E5%85%A5URL%E5%88%B0%E9%A1%B5%E9%9D%A2%E5%8A%A0%E8%BD%BD%E5%AE%8C%E6%88%90"><span class="nav-text">从输入URL到页面加载完成</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E5%AD%98%E5%82%A8%E6%96%B9%E5%BC%8F%EF%BC%9ACookie%E3%80%81SessionStorage%E3%80%81LocalStorage"><span class="nav-text">浏览器存储方式：Cookie、SessionStorage、LocalStorage</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      


<div id="music163player">
 <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1349927611&auto=0&height=66"></iframe>
</div>




<script type="text/javascript" charset="utf-8" src="/js/tagcloud.js"></script>
<script type="text/javascript" charset="utf-8" src="/js/tagcanvas.js"></script>
<div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div id="myCanvasContainer" class="widget tagcloud">
        <canvas width="250" height="250" id="resCanvas" style="width:100%">
            <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9F%BA%E7%A1%80%E7%BC%96%E7%A8%8B%E7%9F%A5%E8%AF%86%E5%AD%A6%E4%B9%A0/" rel="tag">基础编程知识学习</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%A7%E5%AD%A6%E8%AF%BE%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="tag">大学课程学习笔记</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%88%91%E7%9A%84%E9%A1%B9%E7%9B%AE/" rel="tag">我的项目</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%89%93%E5%B7%A5/" rel="tag">打工</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%A5%E5%B8%B8%E7%94%9F%E6%B4%BB/" rel="tag">日常生活</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%8B%B1%E8%AF%AD/" rel="tag">英语</a><span class="tag-list-count">1</span></li></ul>
        </canvas>
    </div>
</div>

</div>
</aside>





        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">lzhello</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">Site words total count&#58;</span>
    
    <span title="Site words total count">64.5k</span>
  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>





<span id="sitetime"></span>
<script language=javascript>
  function siteTime(){
    window.setTimeout("siteTime()", 1000);
    var seconds = 1000;
    var minutes = seconds * 60;
    var hours = minutes * 60;
    var days = hours * 24;
    var years = days * 365;
    var today = new Date();
    var todayYear = today.getFullYear();
    var todayMonth = today.getMonth()+1;
    var todayDate = today.getDate();
    var todayHour = today.getHours();
    var todayMinute = today.getMinutes();
    var todaySecond = today.getSeconds();
    var t1 = Date.UTC(2018,06,07,12,00,00); // 设置建立网站的时间
    var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond);
    var diff = t2-t1;
    var diffYears = Math.floor(diff/years);
    var diffDays = Math.floor((diff/days)-diffYears*365);
    var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours);
    var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes);
    var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds);
    document.getElementById("sitetime").innerHTML=" 已运行"+diffYears+" 年 "diffDays+" 天 "+diffHours+" 小时 "+diffMinutes+" 分钟 "+diffSeconds+" 秒";
  }
  siteTime();
</script>
        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      人
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      次
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  










  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: false,
        appId: 'GtCtI94yO18eQvvJRre7GbmU-gzGzoHsz',
        appKey: '7Bc7UDA3574iWiw9pGgRc8VS',
        placeholder: 'Just go go',
        avatar:'/images/avatar.png',
        guest_info:guest,
        pageSize:'10' || 10,
    });
  </script>



  





  

  

  

  
  

  

  

  

</body>
</html>
